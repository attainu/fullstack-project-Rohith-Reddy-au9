{"version":3,"sources":["firebase.js","function/auth.js","pages/auth/Login.js","pages/auth/Register.js","function/product.js","function/rating.js","components/card/ProductCard.js","components/card/loadingcars.js","components/home/newArrivals.js","components/home/bestArrivals.js","components/footer.js","Image/Banner2.jpg","components/Banners.js","components/card/Jumborton.js","pages/Home.js","components/form/search.js","components/nav/Header.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","components/nav/usernav.js","function/user.js","components/card/paymentInfo.js","components/order/invoice.js","pages/user/History.js","components/routes/loadingPage.js","components/routes/user.js","components/routes/admin.js","pages/user/password.js","pages/user/wishlist.js","components/nav/adminnav.js","function/admin.js","components/order/order.js","pages/admin/adminDashboard.js","function/category.js","components/form/categoryForm.js","components/form/searchForm.js","pages/admin/category/createcategory.js","pages/admin/category/categoryUpdate.js","function/subcategory.js","pages/admin/subCategory/subcategoryCreate.js","pages/admin/subCategory/subcategoryUpdate.js","components/form/productCreateForm.js","components/form/fileUpload.js","pages/admin/product/productCreate.js","components/card/adminproductcard.js","pages/admin/product/allProducts.js","components/form/productUpdateForm.js","pages/admin/product/productUpdate.js","components/card/viewproduct.js","components/modal/rating.js","components/card/singleProduct.js","pages/product.js","function/coupon.js","pages/admin/coupon/coupon.js","pages/shop.js","components/card/displaycartItems.js","pages/Cart.js","components/drawer/cartSide.js","pages/checkout.js","components/stripeCheckout.js","function/stripe.js","pages/palceOrder.js","App.js","reportWebVitals.js","reducers/cartReducer.js","reducers/index.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/cartsideReducer.js","reducers/couponReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","location","token","push","dispatch","useDispatch","roleBase","res","intended","from","data","role","handleSubmit","e","preventDefault","signInWithEmailAndPassword","result","getIdTokenResult","idTokenResult","then","type","payload","name","_id","catch","err","console","log","toast","error","message","googleLogin","signInWithPopup","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","createProduct","product","getProductsByCount","count","get","ProductRemove","slug","delete","getProduct","updateProduct","put","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelatedProduct","getSearchProducts","arg","RatingAvg","p","ratings","total","allRatings","map","r","reduce","n","starDimension","starSpacing","starRatedColor","rating","editing","Meta","Card","ProductCard","tooltip","setTooltip","images","title","description","price","cover","alt","src","style","height","objectFit","actions","EyeOutlined","cart","getItem","JSON","parse","unique","_","uniqWith","isEqual","stringify","quantity","ShoppingCartOutlined","substring","LoadingCard","totalCards","i","active","cards","NewArrivals","products","setProducts","productsCount","setProductsCount","setPage","loadAllProducts","current","BestSellers","Fotter","backgroundColor","class","width","href","Banner","id","data-ride","Sale","Jumbotron","text","options","strings","autoStart","loop","Home","Search","search","useHistory","SearchOutlined","cursor","SubMenu","Menu","Item","Header","setCurrent","key","selectedKeys","mode","AppstoreOutlined","ShoppingOutlined","offset","UserAddOutlined","UserOutlined","SettingOutlined","split","LogoutOutlined","signOut","RegisterComplete","signInWithEmailLink","emailVerified","removeItem","updatePassword","ForgotPassword","sendPasswordResetEmail","UserNav","addToWishlist","getToWishlist","updateWishlist","userCart","getUserCart","emptyCart","userAddress","address","applyCoupon","coupon","createOrder","stripeResponse","getUserOrders","ShowPaymentInfo","paymentIntent","amount","toLocaleString","currency","toUpperCase","payment_method_types","status","Date","created","orderStatus","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","fontSize","textAlign","author","marginBottom","subtitle","margin","image","marginVertical","marginHorizontal","header","color","footer","padding","pageNumber","position","bottom","left","right","Invoice","fixed","getContent","x","brand","History","orders","setOrders","loadUserOrders","showOrderInTable","scope","shipping","CheckCircleOutlined","CloseCircleOutlined","showDownloadLink","document","fileName","Loadingpage","setCount","interval","setInterval","currentCount","clearInterval","UserRoute","children","rest","render","AdminRoute","ok","setOk","Password","Wishlist","wishlist","setWishlist","loadWishlist","DeleteOutlined","AdminNav","getOrders","changeStatus","orderId","Orders","handleStatusChange","showStatus","defaultValue","AdminDashboard","loadOrders","getCategories","getCategory","removeCategory","updateCategory","category","createCategory","getCategorySub","CategoryForm","setName","required","SearchForm","keyword","setKeyword","toLowerCase","CategoryCreate","categories","setCategories","loadCategories","c","handleRemove","confirm","response","filter","includes","searchedItem","EditOutlined","CategoryUpdate","match","loadCategory","params","getSubCategories","getSubCategory","removeSubCategory","updateSubCategory","subCategory","createSubCategory","SubCategoryCreate","setCategory","subcategories","setSubCategories","loadSubCategories","parent","s","SubCategoryUpdate","setParent","loadSubCategory","selected","Option","Select","ProductForm","handleChange","setValues","values","handleCatagoryChange","showSub","subOptions","subc","colors","brands","sc","b","FileUpload","public_id","filteredimages","item","multiple","hidden","accept","files","allUploadedFiles","Resizer","imageFileResizer","uri","initialState","descriptioin","ProductCreate","setSubOptions","setShowSub","LoadingOutlined","alert","reload","AdminProductCard","removeProduct","AllProducts","ProductUpdateForm","selectedCategory","handleCategoryChange","arrayOfSubs","setArrayOfSubs","ProductUpdate","setSelectedCategory","loadProduct","arr","prev","ProductListItems","sold","RatingModal","modalVisible","setModalVisible","useParams","pathname","StarOutlined","centered","visible","onOk","onCancel","TabPane","Tabs","SingleProduct","onStartClick","showArrows","autoPlay","infiniteLoop","tab","undefined","windows","HeartOutlined","numberOfStars","isSelectable","changeRating","ProductView","setProduct","related","setRelated","setStar","loadProductDetails","existingRatingObject","find","ele","postedBy","toString","newrating","createCoupon","getCoupons","removeCoupon","couponId","CreateCouponPage","expiry","setExpiry","discount","setDiscount","coupons","setCoupons","loadAllCoupons","table","date","toLocaleDateString","Shop","setPrice","categoryIds","setCategoryIds","subs","setSubs","setSub","setBrand","setColor","setShipping","fetchProducts","delayed","setTimeout","query","clearTimeout","handleCheck","inTheState","justChecked","foundInTheState","indexOf","splice","handleSub","sub","handleBrand","handleColor","defaultOpenKeys","tipFormatter","v","range","max","DownSquareOutlined","maringTop","checked","DisplayCartProducts","small","large","CloseOutlined","Cart","currentValue","nextValue","SideDrawer","sideDraw","imageStyle","closable","onClose","Checkout","setTotal","setAddress","setAddressSaved","setCoupon","totalAfterDiscount","setTotalAfterDiscount","discountError","setDiscountError","cartTotal","theme","StripeCheckout","succeeded","setSucceeded","setError","processing","setProcessing","setDisabled","clientSecret","setClientSecret","setCartTotal","payable","setPayable","stripe","useStripe","elements","useElements","couponApplied","createPaymentIntent","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","empty","CheckOutlined","toFixed","base","fontFamily","fontSmoothing","invalid","iconColor","PaymentPage","promise","loadStripe","App","unsubscribe","onAuthStateChanged","exact","path","component","CouponPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.d8d9704e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAE0NWeC0yx2Tuhwo8XZdH0_EBHb5q5SgA\",\r\n    authDomain: \"luvih-76d9c.firebaseapp.com\",\r\n    projectId: \"luvih-76d9c\",\r\n    storageBucket: \"luvih-76d9c.appspot.com\",\r\n    messagingSenderId: \"542838529501\",\r\n    appId: \"1:542838529501:web:c300a8fe3e588dcf612a34\"\r\n};\r\n\r\n  // Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// export\r\nexport const auth = firebase.auth();\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\n","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\nexport const createOrUpdateUser = async (authtoken) =>{\r\n    return await axios.post(\r\n        (`${process.env.REACT_APP_API}/create-or-update-user`),\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\nexport const currentUser = async (authtoken) =>{\r\n    return await axios.post(\r\n        (`${process.env.REACT_APP_API}/current-user`),\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    )\r\n}\r\n\r\nexport const currentAdmin = async (authtoken) =>{\r\n    return await axios.post(\r\n        `${process.env.REACT_APP_API}/current-admin`,\r\n        {},\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { auth, googleAuthProvider } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { Button } from 'antd'\r\nimport { MailOutlined, GoogleOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport {createOrUpdateUser} from '../../function/auth'\r\n\r\n\r\n\r\nconst Login = ({ history }) => {\r\n\r\n        const [email, setEmail] = useState(\"\");\r\n        const [password, setPassword] = useState(\"\");\r\n        const [loading, setLoading] = useState(false);\r\n\r\n    const { user } = useSelector((state) => ({...state}));\r\n\r\n    useEffect(() => {\r\n        let intended = history.location.state\r\n        if(intended){\r\n            return\r\n        } else{\r\n            if(user && user.token) history.push(\"/\");\r\n        }\r\n    }, [history, user]);\r\n\r\n    let dispatch = useDispatch()\r\n\r\n    const roleBase = (res) => {\r\n        // intented\r\n        let intended = history.location.state\r\n        if(intended){\r\n            history.push(intended.from)\r\n        }\r\n        else{\r\n            if(res.data.role === 'admin'){\r\n                history.push('/admin/dashboard')\r\n            } else{\r\n                history.push('/user/history')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n        const handleSubmit = async (e) => {\r\n            e.preventDefault();\r\n            setLoading(true);\r\n            // console.table(email, password);\r\n            try{\r\n                const result = await auth.signInWithEmailAndPassword(email, password);\r\n                // console.log(result);\r\n                const { user } = result\r\n                const idTokenResult = await user.getIdTokenResult();\r\n\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then((res)=>{\r\n                    dispatch({\r\n                        type: \"LOGGED_IN_USER\",\r\n                        payload: {\r\n                            name: res.data.name,\r\n                            email: res.data.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.role,\r\n                            _id: res.data._id\r\n                            },\r\n                    });\r\n                    roleBase(res)\r\n                })\r\n                .catch((err)=>{\r\n                    console.log(err)\r\n                });\r\n                // history.push('/');\r\n            } catch (error) {\r\n                console.log(error);\r\n                toast.error(error.message);\r\n                setLoading(false);\r\n            }\r\n        };\r\n        \r\n        const googleLogin = async () => {\r\n            auth\r\n            .signInWithPopup(googleAuthProvider)\r\n            .then( async (result) => {\r\n                const { user } = result\r\n                const idTokenResult = await user.getIdTokenResult();\r\n\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then((res)=>{\r\n                    dispatch({\r\n                        type: \"LOGGED_IN_USER\",\r\n                        payload: {\r\n                            name: res.data.name,\r\n                            email: res.data.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.role,\r\n                            _id: res.data._id\r\n                            },\r\n                    });\r\n                    roleBase(res)\r\n                })\r\n                .catch((err)=>{\r\n                    console.log(err)\r\n                });\r\n                // history.push('/');\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n                toast.error(err.message);\r\n            });\r\n        };\r\n        const loginForm = () => (\r\n            <form onSubmit={handleSubmit}>\r\n\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"email\" \r\n                        className=\"form-control\" \r\n                        value={email} \r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        placeholder=\"Your email\"\r\n                        autoFocus \r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"password\" \r\n                        className=\"form-control\" \r\n                        value={password} \r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Your password\"\r\n                    />\r\n                </div>\r\n                <br/>\r\n\r\n                <Button\r\n                    onClick={handleSubmit}\r\n                    type=\"primary\"\r\n                    className=\"mb-3\"\r\n                    block\r\n                    shape=\"round\"\r\n                    icon={< MailOutlined/>}\r\n                    size=\"large\"\r\n                    disabled={!email || password.length < 6}\r\n                    >Login with Email/Password\r\n                </Button>\r\n            </form>\r\n        );\r\n\r\n    return(\r\n        <div className=\"container p-5\"> \r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading...</h4>\r\n                    ) : (\r\n                        <h4>Login</h4>\r\n                    )}\r\n                    {loginForm()}\r\n\r\n                <Button\r\n                    onClick={googleLogin}\r\n                    type=\"danger\"\r\n                    className=\"mb-3\"\r\n                    block\r\n                    shape=\"round\"\r\n                    icon={< GoogleOutlined/>}\r\n                    size=\"large\"\r\n                    >Login with Google\r\n                </Button>\r\n                <Link to=\"/forgot/password\" className=\"float-right text-danger\">\r\n                    Forgot Password\r\n                </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from '../../firebase'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nimport { toast } from 'react-toastify'\r\n    const Register = ({history}) => {\r\n        const [email, setEmail] = useState(\"\");\r\n        const { user } = useSelector((state) => ({...state}));\r\n\r\n        useEffect(() => {\r\n            if(user && user.token) history.push(\"/\");\r\n        }, [history, user]);\r\n\r\n        const handleSubmit = async (e) => {\r\n            e.preventDefault();\r\n            const config = {\r\n                url: \"http://localhost:3000/register/complete\",\r\n                handleCodeInApp: true,\r\n            };\r\n            await auth.sendSignInLinkToEmail(email, config);\r\n            toast.success(\r\n                `Email was sent to ${email}. Click the link to complete your registration.`\r\n            );\r\n            // emil id will be stored in local storge\r\n            window.localStorage.setItem('emailForRegistration', email);\r\n            //clear \r\n            setEmail(\"\");\r\n        };\r\n        const registerForm = () => (\r\n            <form onSubmit={handleSubmit}>\r\n                <input \r\n                    type=\"email\" \r\n                    className=\"form-control\" \r\n                    value={email} \r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Your email\"\r\n                    autoFocus \r\n                />\r\n                <br/>\r\n                <button \r\n                    type=\"submit\"\r\n                    className=\"btn btn-raised\">\r\n                    Register\r\n                </button>\r\n            </form>\r\n        );\r\n\r\n    return(\r\n        <div className=\"container p-5\"> \r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\n// product related routes\r\n\r\nexport const createProduct = async(product, authtoken) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/product`, product,{\r\n        headers: { authtoken }\r\n})\r\n\r\nexport const getProductsByCount = async (count) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/products/${count}`)\r\n\r\n\r\nexport const ProductRemove = async(slug, authtoken) =>\r\n    await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`,\r\n    {\r\n        headers: { \r\n            authtoken \r\n        }\r\n})\r\n\r\nexport const getProduct = async (slug) => \r\n    await axios.get(`${process.env.REACT_APP_API}/product/${slug}`)\r\n\r\nexport const updateProduct = async(slug, product, authtoken) =>\r\n    await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product,{\r\n        headers: { authtoken }\r\n})\r\n\r\nexport const getProducts = async ( sort, order, page) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/products`, \r\n    {\r\n        sort, \r\n        order, \r\n        page\r\n})\r\n\r\nexport const getProductsCount = async () =>\r\n    await axios.get(`${process.env.REACT_APP_API}/totalproducts`)\r\n\r\n    \r\nexport const productStar = async(productId, star, authtoken) =>\r\n    await axios.put(`${process.env.REACT_APP_API}/product/star/${productId}`, \r\n    { star },\r\n    {\r\n        headers: { authtoken }\r\n})\r\n\r\n\r\nexport const getRelatedProduct = async (productId) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`)\r\n\r\n// search for products\r\n\r\nexport const getSearchProducts = async (arg) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg)\r\n\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nexport const RatingAvg = (p) =>{\r\n    if(p && p.ratings){\r\n        let total = []\r\n        let allRatings =  p && p.ratings \r\n        let length = allRatings.length\r\n        // console.log(length)\r\n\r\n        allRatings.map((r)=> total.push(r.star))\r\n        let totalReduced = total.reduce((p, n)=> p+n, 0)\r\n        // console.log(\"totalReduced\", totalReduced);\r\n\r\n        let highest = length * 5\r\n        // console.log(\"highest\", highest);\r\n\r\n        let result = (totalReduced * 5)/highest\r\n        // console.log(\"result\", result);\r\n\r\n        return (\r\n            <div className=\"text-center pt-1 pb-3\">\r\n                <span>\r\n                    <StarRating \r\n                        starDimension=\"20px\"\r\n                        starSpacing=\"4px\"\r\n                        starRatedColor=\"green\"\r\n                        rating={result}\r\n                        editing={false}\r\n                    />{\" \"}\r\n                    {p.ratings.length}\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from 'react'\r\nimport { Card, Tooltip } from 'antd';\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RatingAvg } from \"../../function/rating\"\r\nimport { useDispatch} from \"react-redux\"\r\n\r\nimport _ from \"lodash\"\r\n\r\nconst { Meta } = Card\r\n\r\nconst ProductCard = ({ product }) => {\r\n\r\n    const [tooltip, setTooltip] = useState(\"Click to add\")\r\n  \r\n    // redux\r\n    // const { user, cart } = useSelector((state) => ({ ...state }));\r\n    const dispatch = useDispatch();\r\n  \r\n    const handleAddToCart = () => {\r\n      // create cart array\r\n      let cart = [];\r\n      if (typeof window !== \"undefined\") {\r\n        // if cart is in local storage GET it\r\n        if (localStorage.getItem(\"cart\")) {\r\n          cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        }\r\n        // push new product to cart\r\n        cart.push({\r\n          ...product,\r\n          count: 1,\r\n        }); \r\n        // remove duplicates\r\n        let unique = _.uniqWith(cart, _.isEqual);\r\n        // save to local storage\r\n        // console.log('unique', unique)\r\n        localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n        // show tooltip\r\n        setTooltip(\"Added\");\r\n  \r\n        // add to reeux state\r\n        dispatch({\r\n          type: \"ADD_TO_CART\",\r\n          payload: unique,\r\n        });\r\n        \r\n        dispatch({\r\n          type: \"CART_SIDE_VIEW\",\r\n          payload: true,\r\n        });\r\n      }\r\n    };\r\n\r\n    \r\n  \r\n    // destructure\r\n    const { images, title, description, slug, price } = product;\r\n    return (\r\n      <>\r\n        {product && product.ratings && product.ratings.length > 0 ? (\r\n          RatingAvg(product)\r\n        ) : (\r\n          <div className=\"text-center pt-1 pb-3\">No rating yet</div>\r\n        )}\r\n  \r\n        <Card\r\n          cover={\r\n            <img\r\n                alt={title} \r\n                src={images && images.length ? images[0].url : ''}\r\n                style={{ height: \"150px\", objectFit: \"cover\" }}\r\n                className=\"p-1\"\r\n            />\r\n          }\r\n          actions={[\r\n            <Link to={`/product/${slug}`}>\r\n              <EyeOutlined className=\"text-warning\" /> <br /> View Product\r\n            </Link>,\r\n            <Tooltip title={tooltip}>\r\n            <a onClick={handleAddToCart} disabled={product.quantity < 1}>\r\n              <ShoppingCartOutlined className=\"text-danger\" /> <br />\r\n              {product.quantity < 1 ? \"Out of stock\" : \"Add to Cart\"}\r\n            </a>\r\n          </Tooltip>,\r\n          ]}\r\n        >\r\n          <Meta\r\n            title={`${title} - $${price}`}\r\n            description={`${description && description.substring(0, 40)}...`}\r\n          />\r\n        </Card>\r\n      </>\r\n    );\r\n  };\r\n  \r\n  export default ProductCard;\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const ProductCard = ({ product }) => {\r\n\r\n//     const { title, description, images, slug, price} = product\r\n//     const { user, cart } = useSelector((state) => ({...state}))\r\n//     const  dispatch  = useDispatch()\r\n//     const [tooltip, setTooltip] = useState(\"Click to add\");\r\n    \r\n\r\n\r\n//     const handleCart = () => {\r\n\r\n//         let cart = []\r\n//         if(typeof window !== \"undefined\") {\r\n//             // if there is a cart in local storage we will GET it \r\n//             if (localStorage.getItem(\"cart\")){\r\n//                 cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n//             }\r\n//             // push new item to cart array\r\n//             cart.push({\r\n//                 ...product,\r\n//                 count:1,\r\n//             });\r\n//             // we are removiing duplicates with loadash \r\n//             let unique = _.uniqWith(cart, _.isEqual)\r\n//             // console.log(\"unique------>\", unique)\r\n//             // i m saving data in local storage in json format\r\n//             localStorage.setItem(\"cart\", JSON.stringify(unique))\r\n//             setTooltip(\"Added\");\r\n\r\n//             // ading product to cart using state\r\n//             dispatch({\r\n//                 type:\" ADD_TO_CART\",\r\n//                 payload: unique \r\n//             }) \r\n//         }\r\n//     }\r\n\r\n\r\n    \r\n\r\n//     return(\r\n//         <>\r\n//         {product && product.ratings && product.ratings.length > 0 ? RatingAvg(product)  : \r\n//             <div className=\"text-center pt-1 pb-3\">\r\n//                     NO RATING YET\r\n//             </div> \r\n//         }\r\n//             <Card\r\n//                 cover={\r\n//                     <img alt={title} \r\n//                     src= {images && images.length ? images[0].url : \" \"} \r\n//                     // style={{ width: 240, height: \"250px\", objectFit: \"cover\" }}\r\n//                     // className = 'p-1'\r\n//                     />\r\n//                 }\r\n//                 actions={[ \r\n//                     <Link to = {`/product/${slug}`}>\r\n//                         <EyeOutlined \r\n//                             className=\"text-warning\" \r\n//                         />\r\n//                         <br /> View Product\r\n//                     </Link>,\r\n//                     <Tooltip title={tooltip}>\r\n//                         <a onClick={handleCart}>\r\n//                             <ShoppingCartOutlined className=\"text-danger\" /> <br /> Add to\r\n//                             Cart\r\n//                         </a>\r\n//                     </Tooltip>,\r\n\r\n//                 ]}\r\n//             >\r\n//                 <Meta\r\n//                     title={`${title} - ${price}`}\r\n//                     description={`${description && description.substring(0, 40)}...`}\r\n//                 />\r\n//             </Card>\r\n//         </>\r\n//     )\r\n// }\r\n// export default ProductCard\r\n","import React from \"react\";\r\nimport { Card, Skeleton } from \"antd\";\r\n\r\nconst LoadingCard = ({ count }) => {\r\n    const cards = () => {\r\n        let totalCards = [];\r\n\r\n        for (let i = 0; i < count; i++) {\r\n            totalCards.push(\r\n                <Card className=\"col-md-4\" key= { i}>\r\n                <Skeleton active></Skeleton>\r\n                </Card>\r\n            );\r\n        }\r\n        return totalCards;\r\n    };\r\n\r\n    return <div className=\"row pb-5\">{cards()}</div>;\r\n};\r\n\r\nexport default LoadingCard;\r\n\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport  { getProducts, getProductsCount } from \"../../function/product\"\r\nimport ProductCard from \"../card/ProductCard\"\r\nimport LoadingCard from \"../card/loadingcars\"\r\nimport { Pagination } from \"antd\";\r\n\r\n\r\nconst NewArrivals = () => {\r\n\r\n    const  [ loading, setLoading ] = useState(false)\r\n    const  [ products,   setProducts] = useState([])\r\n    const  [ productsCount, setProductsCount] = useState(0)\r\n    const  [ page, setPage] = useState(1)\r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    }, [page])\r\n\r\n    useEffect(() => {\r\n        getProductsCount()\r\n        .then((res)=> setProductsCount(res.data) )\r\n    }, [])\r\n\r\n    const loadAllProducts = () =>{\r\n            setLoading(true)\r\n            // sort order limit\r\n            getProducts(\"createdAt\", \"desc\", page).then((res) =>{\r\n                // console.log(\"pages>>>>\",res.data)\r\n                setProducts(res.data)\r\n                // console.log(\"setProducts>>>>\",setProducts)\r\n                setLoading(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                { loading ? (<LoadingCard count = {3}/>) : (\r\n                    <div className=\"row\">\r\n                        {products.map((product) => (\r\n                            <div key={product._id} className=\"col-md-4\">\r\n                            <ProductCard product={product} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n                <nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\r\n                    <Pagination\r\n                        current={page}\r\n                        total={(productsCount / 3) * 10}\r\n                        onChange={(value) => setPage(value)}\r\n                    />\r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NewArrivals;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport  { getProducts, getProductsCount } from \"../../function/product\"\r\nimport ProductCard from \"../card/ProductCard\"\r\nimport LoadingCard from \"../card/loadingcars\"\r\nimport { Pagination } from \"antd\";\r\n\r\n\r\nconst BestSellers = () => {\r\n\r\n    const [ loading, setLoading] = useState(false)\r\n    const [ products,   setProducts] = useState([])\r\n    const  [ productsCount, setProductsCount] = useState(0)\r\n    const  [ page, setPage] = useState(1)\r\n    \r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    }, [page])\r\n\r\n    useEffect(() => {\r\n        getProductsCount()\r\n        .then((res)=> setProductsCount(res.data) )\r\n    }, [])\r\n\r\n    const loadAllProducts = () => {\r\n        setLoading(true)\r\n        getProducts(\"sold\", \"desc\", page).then((res)=>{\r\n            setProducts(res.data)\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <div className=\"container\">\r\n                {/* {JSON.stringify(products)} */}\r\n                { loading ? (<LoadingCard  count = {3}/>\r\n                ) : (\r\n                    <div className = \"row\">\r\n                        {products.map((product)=>(\r\n                            <div key={product._id} className=\"col-md-4\">\r\n                                <ProductCard product  = {product} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n                <nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\r\n                    <Pagination\r\n                        current={page}\r\n                        total={(productsCount / 3) * 10}\r\n                        onChange={(value) => setPage(value)}\r\n                    />\r\n                </nav>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BestSellers\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react';\r\n\r\nconst Fotter = () =>{\r\n    return(\r\n        <footer className=\"page-footer font-small blue-grey lighten-5\">\r\n\r\n            <div style={{backgroundColor: \"#21d192\"}}>\r\n                \r\n                <div className=\"container\">\r\n\r\n                    <div className=\"row py-4 d-flex align-items-center\">\r\n\r\n                        <div className=\"col-md-6 col-lg-5 text-center text-md-left mb-4 mb-md-0\">\r\n                        <h6 className=\"mb-0\">Get connected with us on social networks!</h6>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6 col-lg-7 text-center text-md-right\">\r\n\r\n                            <a class=\"fb-ic\">\r\n                                <i class=\"fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x\"> </i>\r\n                            </a>\r\n\r\n                            <a class=\"tw-ic\">\r\n                                <i class=\"fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x\"> </i>\r\n                            </a>\r\n\r\n                            <a class=\"li-ic\">\r\n                                <i class=\"fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x\"> </i>\r\n                            </a>\r\n\r\n                            <a class=\"ins-ic\">\r\n                                <i class=\"fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x\"> </i>\r\n                            </a>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"container text-center text-md-left mt-5\">\r\n\r\n                <div className=\"row mt-3 dark-grey-text\">\r\n\r\n                <div className=\"col-md-4 col-lg-4 col-xl-3 mb-4\">\r\n\r\n                    <h6 className=\"text-uppercase font-weight-bold\">ShopoZ</h6>\r\n                    <hr className=\"teal accent-3 mb-4 mt-0 d-inline-block mx-auto\" style={{width: \"60px\"}} />\r\n                    <p>Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet,\r\n                    consectetur\r\n                    adipisicing elit.</p>\r\n\r\n                </div>\r\n\r\n                <div className=\"col-md-4 col-lg-2 col-xl-2 mx-auto mb-4\">\r\n\r\n                    <h6 className=\"text-uppercase font-weight-bold\">Products</h6>\r\n                    <hr className=\"teal accent-3 mb-4 mt-0 d-inline-block mx-auto\" style={{width: \"60px\"}} />\r\n                    <p>\r\n                    <a className=\"dark-grey-text\" href=\"#!\">Link1</a>\r\n                    </p>\r\n                    <p>\r\n                    <a className=\"dark-grey-text\" href=\"#!\">Link2</a>\r\n                    </p>\r\n                    <p>\r\n                    <a className=\"dark-grey-text\" href=\"#!\">Link3</a>\r\n                    </p>\r\n                    <p>\r\n                    <a className=\"dark-grey-text\" href=\"#!\">link4</a>\r\n                    </p>\r\n\r\n                </div>\r\n                \r\n                <div className=\"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4\">\r\n\r\n                    <h6 className=\"text-uppercase font-weight-bold\">Contact</h6>\r\n                    <hr className=\"teal accent-3 mb-4 mt-0 d-inline-block mx-auto\" style={{width: \"60px\"}} />\r\n                    <p>\r\n                    <i className=\"fas fa-home mr-3\"></i> Hyderabad, NY 10012, India</p>\r\n                    <p>\r\n                    <i className=\"fas fa-envelope mr-3\"></i> info@example.com</p>\r\n                    <p>\r\n                    <i className=\"fas fa-phone mr-3\"></i> + 91 8686 085 000</p>\r\n                    <p>\r\n                    <i className=\"fas fa-print mr-3\"></i> +91 9966 404 042 </p>\r\n\r\n                </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"footer-copyright text-center text-black-50 py-3\">\r\n                {/* <a className=\"dark-grey-text\" href=\"https://mdbootstrap.com/\"> Developed by Rohith & Vinod</a> */}\r\n                <h6>Developed by Rohith & Vinod</h6>\r\n            </div>\r\n\r\n            </footer>\r\n        \r\n    )\r\n}\r\n\r\nexport default Fotter","export default __webpack_public_path__ + \"static/media/Banner2.013b1b24.jpg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react';\r\nimport Sale from '../Image/Banner2.jpg'\r\n\r\n\r\nconst Banner = () => {\r\n    return(\r\n        <>\r\n        <div id=\"carouselExampleControls\" className=\"carousel slide\" data-ride=\"carousel\">\r\n            <div className=\"carousel-inner\">\r\n                <div className=\"carousel-item active\">\r\n                <img className=\"d-block w-100\" src={Sale} alt=\"First slide\" />\r\n                </div>\r\n                \r\n            </div>\r\n            {/* <a className=\"carousel-control-prev\"  role=\"button\" data-slide=\"prev\">\r\n                <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                <span className=\"sr-only\">Previous</span>\r\n            </a>\r\n            <a className=\"carousel-control-next\" role=\"button\" data-slide=\"next\">\r\n                <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                <span className=\"sr-only\">Next</span>\r\n            </a> */}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Banner","import React from \"react\";\r\nimport Typewriter from \"typewriter-effect\";\r\n\r\nconst Jumbotron = ({ text }) => (\r\n  <Typewriter\r\n    options={{\r\n      strings: text,\r\n      autoStart: true,\r\n      loop: true,\r\n    }}\r\n  />\r\n);\r\n\r\nexport default Jumbotron;\r\n","import React from \"react\";\r\nimport NewArrivals from \"../components/home/newArrivals\"\r\nimport BestSellers from \"../components/home/bestArrivals\"\r\nimport Footer from \"../components/footer\"\r\nimport Banner from \"../components/Banners\"\r\n\r\nimport Jumbotron from \"../components/card/Jumborton\"\r\n// import LoadingCard from \"../components/card/loadingcars\"\r\n\r\nconst Home = () => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <Banner />\r\n            <div className=\"jumbotron text-danger h1 font-weight-bold text-center\">\r\n                <Jumbotron text={[\"New Arrivals\", \"Best Sellers\", \"Latest Products\"]} />\r\n            </div>\r\n\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n                New Arrivals\r\n            </h4>\r\n            <NewArrivals />\r\n\r\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\r\n                Best Sellers\r\n            </h4>\r\n            <BestSellers />\r\n\r\n            <Footer />\r\n        \r\n            \r\n            </>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport { useHistory} from 'react-router-dom'\r\n\r\n\r\nconst Search = () => {\r\n    const { search } = useSelector((state) => ({...state}))\r\n\r\n    const { text } = search\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const handleChange = (e) => {\r\n        dispatch({\r\n            type: 'SEARCH_QUERY',\r\n            payload:{text: e.target.value}\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        history.push(`/shop?${text}`)\r\n    }\r\n\r\n    return (\r\n        <form  className=\"form-inline my-2 my-lg-0\" onSubmit={handleSubmit} >\r\n            <input \r\n                className=\"form-control mr-sm-2\" \r\n                type=\"search\"\r\n                value={text}\r\n                placeholder=\"Search\" \r\n                onChange={handleChange}\r\n            />\r\n            <SearchOutlined onClick={handleSubmit} style={{ cursor: \"pointer\" }} />\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default Search\r\n","import React, { useState } from \"react\";\r\nimport {Menu, Badge} from 'antd'\r\nimport {  AppstoreOutlined, SettingOutlined, UserOutlined, UserAddOutlined, LogoutOutlined, ShoppingOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nimport firebase from 'firebase'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Search from '../form/search'\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nconst Header = () => {\r\n        const [current, setCurrent] = useState('home');\r\n        let dispatch = useDispatch();\r\n        let { user, cart } = useSelector((state) => ({...state}));\r\n        let history = useHistory();\r\n\r\n        const handleClick = (e) => {\r\n            setCurrent(e.key);\r\n        };\r\n\r\n        const logout = () => {\r\n            firebase.auth().signOut()\r\n            dispatch({\r\n                type: \"LOGOUT\",\r\n                payload: null,\r\n            });\r\n            history.push(\"/login\");\r\n        };\r\n\r\n    return(\r\n        <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\r\n        <Item key=\"home\" icon={<AppstoreOutlined />}>\r\n            <Link to=\"/\">Home</Link>\r\n        </Item>\r\n\r\n        <Item key=\"shop\" icon={<ShoppingOutlined />}>\r\n            <Link to=\"/shop\">Shop</Link>\r\n        </Item>\r\n\r\n        <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\r\n            <Link to=\"/cart\">\r\n            <Badge count={cart.length} offset={[9, 0]}>\r\n                Cart\r\n            </Badge>\r\n            </Link>\r\n        </Item>\r\n\r\n        {!user && (\r\n            <Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\r\n            <Link to=\"/register\">Register</Link>\r\n            </Item>\r\n        )}\r\n\r\n        {!user && (\r\n            <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n            <Link to=\"/login\">Login</Link>\r\n            </Item>\r\n        )}\r\n\r\n        \r\n        {user && (\r\n            <SubMenu \r\n                key=\"SubMenu\" \r\n                icon={<SettingOutlined />} \r\n                title={user.email && user.email.split(\"@\")[0]}\r\n                className=\"float-right\"\r\n            >\r\n                { user && user.role === \"subscriber\" && (\r\n                    <Item><Link to=\"/user/history\">Dashboard</Link></Item>\r\n                )}\r\n\r\n                { user && user.role === \"admin\" && (\r\n                    <Item><Link to=\"/admin/dashboard\">Dashboard</Link></Item>\r\n                )}\r\n\r\n                <Item icon={<LogoutOutlined />} onClick={logout}>Logout</Item>\r\n            </SubMenu>\r\n        )}\r\n        <span className=\"float-right p-1\"><Search /></span>\r\n        \r\n      </Menu>\r\n    )\r\n\r\n};\r\n\r\nexport default Header;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { useDispatch } from 'react-redux'\r\nimport {createOrUpdateUser} from '../../function/auth'\r\n\r\n\r\nconst RegisterComplete = ({ history }) => {\r\n        const [email, setEmail] = useState(\"\");\r\n        const [password, setPassword] = useState('');\r\n        // const { user } = useSelector((state) => ({...state}));\r\n\r\n        useEffect(() => {\r\n            setEmail(window.localStorage.getItem(\"emailForRegistration\"));\r\n        }, [history]);\r\n\r\n        let dispatch = useDispatch()\r\n\r\n\r\n        const handleSubmit = async (e) => {\r\n            e.preventDefault();\r\n            //validation\r\n            if(!email || !password) {\r\n                toast.error('Email and password is required.');\r\n                return;\r\n            }\r\n            if(password.length < 6) {\r\n                toast.error(\"Password must contain atleast 6 characters long.\");\r\n                return;\r\n            }\r\n            try{\r\n                const result = await auth.signInWithEmailLink(email, window.location.href);\r\n              \r\n                if(result.user.emailVerified) {\r\n                    //remove user mail from local storage\r\n                    window.localStorage.removeItem(\"emailForRegistration\");\r\n                    // get user id token\r\n                    let user = auth.currentUser\r\n                    await user.updatePassword(password);\r\n                    const idTokenResult = await user.getIdTokenResult()\r\n                    // redux store\r\n                    // console.log('user', user, \"idTokenResult\", idTokenResult);\r\n                    //redirect\r\n                    createOrUpdateUser(idTokenResult.token)\r\n                    .then((res)=>{\r\n                        dispatch({\r\n                            type: \"LOGGED_IN_USER\",\r\n                            payload: {\r\n                                name: res.data.name,\r\n                                email: res.data.email,\r\n                                token: idTokenResult.token,\r\n                                role: res.data.role,\r\n                                _id: res.data._id\r\n                            },\r\n                        });\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                    });\r\n                    history.push('/')\r\n                }\r\n                \r\n            } catch (error) {\r\n                toast.error(error.message);\r\n            }\r\n        };\r\n        \r\n        const completeRegistrationForm = () => (\r\n            <form onSubmit={handleSubmit}>\r\n                <input \r\n                    type=\"email\" \r\n                    className=\"form-control\" \r\n                    value={email} disabled\r\n                />\r\n\r\n                <input \r\n                    type=\"password\" \r\n                    className=\"form-control\" \r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"password\"\r\n                    autoFocus\r\n                />\r\n\r\n                <br/>\r\n                <button \r\n                    type=\"submit\"\r\n                    className=\"btn btn-raised\">\r\n                    Complete Registration\r\n                </button>\r\n            </form>\r\n        );\r\n    return(\r\n        <div className=\"container p-5\"> \r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register Complete</h4>\r\n                    {completeRegistrationForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegisterComplete;","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from '../../firebase'\r\nimport { toast } from 'react-toastify'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { user } = useSelector((state) => ({...state}));\r\n\r\n    useEffect(() => {\r\n        if(user && user.token) history.push(\"/\");\r\n    }, [history, user]);\r\n\r\n    const handleSubmit  = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        const config = {\r\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT_URL,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n        await auth.sendPasswordResetEmail(email, config)\r\n            .then(() => {\r\n                setEmail('')\r\n                setLoading(false)\r\n                toast.success(\"Check your email for password reset link\");\r\n            })\r\n            .catch((error) => {\r\n                setLoading(false);\r\n                toast.error(error.message);\r\n                console.log(\"Error in Forgot Password\", error);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            {loading ? (\r\n                <h4 className=\"text-danger\">Loading...</h4>\r\n            ) : (\r\n                <h4>Forgot Password</h4>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n            <input \r\n                type=\"email\" \r\n                className=\"form-control\" \r\n                value={email} \r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Your email\"\r\n                autoFocus \r\n            />\r\n\r\n            <br/>\r\n\r\n            <button \r\n                className=\"btn btn-raised\"\r\n                disabled={!email}>\r\n                Submit\r\n            </button>\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst UserNav = () => {\r\n    return(\r\n        <nav>\r\n            <ul className = \"nav flex-column\">\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/user/history\" className=\"nav-link\">History</Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/user/password\"  className=\"nav-link\">Password</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/user/wishlist\"  className=\"nav-link\">Wishlist</Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default UserNav","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\nexport const addToWishlist = async (productId, authtoken) => \r\n    await axios.post(`${process.env.REACT_APP_API}/user/wishlist`, \r\n    { productId },\r\n    {\r\n        headers: {\r\n            authtoken\r\n        },\r\n    }\r\n)\r\n\r\nexport const getToWishlist = async ( authtoken) => \r\n    await axios.get(`${process.env.REACT_APP_API}/user/wishlist`, \r\n    {\r\n        headers: {\r\n            authtoken\r\n        },\r\n    })\r\n\r\nexport const updateWishlist = async (productId, authtoken) => \r\n    await axios.put(`${process.env.REACT_APP_API}/user/wishlist/${productId}`, {},\r\n    {\r\n        headers: {\r\n            authtoken\r\n        },\r\n    })\r\n\r\n    // cart\r\nexport const userCart = async (cart, authtoken) =>\r\n    await axios.post(\r\n        `${process.env.REACT_APP_API}/user/cart`,\r\n        { cart },\r\n        {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n        }\r\n    );\r\n    \r\nexport const getUserCart = async ( authtoken ) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/user/cart`,\r\n        {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n        }\r\n    );\r\n\r\nexport const emptyCart = async ( authtoken ) =>\r\n    await axios.delete(`${process.env.REACT_APP_API}/user/cart`, \r\n        {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n        }\r\n    );\r\n\r\nexport const userAddress = async ( authtoken, address ) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/user/address`, {address}, \r\n        {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n        }\r\n    )\r\n\r\nexport const applyCoupon = async (authtoken, coupon) =>\r\n    await axios.post(\r\n        `${process.env.REACT_APP_API}/user/cart/coupon`,\r\n        { coupon },\r\n        {\r\n            headers: {\r\n            authtoken,\r\n            },\r\n        }\r\n    );\r\n\r\nexport const createOrder = async (stripeResponse, authtoken) =>\r\n    await axios.post(\r\n        `${process.env.REACT_APP_API}/user/order`,\r\n        { stripeResponse },\r\n        {\r\n            headers: {\r\n                authtoken,\r\n            },\r\n        }\r\n    );\r\n\r\nexport const getUserOrders = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n","import React from \"react\";\r\n\r\nconst ShowPaymentInfo = ({ order }) => (\r\n  <div>\r\n    <p>\r\n      <span>Order Id: {order.paymentIntent.id}</span>\r\n      {\" / \"}\r\n      <span>\r\n        Amount:{\" / \"}\r\n        {(order.paymentIntent.amount /= 100).toLocaleString(\"en-US\", {\r\n          style: \"currency\",\r\n          currency: \"USD\",\r\n        })}\r\n      </span>\r\n      {\" / \"}\r\n      <span>Currency: {order.paymentIntent.currency.toUpperCase()}</span>\r\n      {\" / \"}\r\n      <span>Method: {order.paymentIntent.payment_method_types[0]}</span>\r\n      {\" / \"}\r\n      <span>Payment: {order.paymentIntent.status.toUpperCase()}</span>\r\n      {\" / \"}\r\n      <span>\r\n        Orderd on:{\" / \"}\r\n        {new Date(order.paymentIntent.created * 1000).toLocaleString()}\r\n      </span>\r\n      {\" / \"}\r\n      <span className=\"badge bg-primary text-white\">\r\n        STATUS: {order.orderStatus}\r\n      </span>\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default ShowPaymentInfo;\r\n","import React from \"react\";\r\nimport { Document, Page, Text, StyleSheet } from \"@react-pdf/renderer\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  DataTableCell,\r\n} from \"@david.kucsai/react-pdf-table\";\r\n\r\nconst Invoice = ({ order }) => (\r\n  <Document>\r\n    <Page style={styles.body}>\r\n      <Text style={styles.header} fixed>\r\n        ~ {new Date().toLocaleString()} ~\r\n      </Text>\r\n      <Text style={styles.title}>Order Invoice</Text>\r\n      <Text style={styles.author}>React Redux Ecommerce</Text>\r\n      <Text style={styles.subtitle}>Order Summary</Text>\r\n\r\n      <Table>\r\n        <TableHeader>\r\n          <TableCell>Title</TableCell>\r\n          <TableCell>Price</TableCell>\r\n          <TableCell>Quantity</TableCell>\r\n          <TableCell>Brand</TableCell>\r\n          <TableCell>Color</TableCell>\r\n        </TableHeader>\r\n      </Table>\r\n\r\n      <Table data={order.products}>\r\n        <TableBody>\r\n          <DataTableCell getContent={(x) => x.product.title} />\r\n          <DataTableCell getContent={(x) => `$${x.product.price}`} />\r\n          <DataTableCell getContent={(x) => x.count} />\r\n          <DataTableCell getContent={(x) => x.product.brand} />\r\n          <DataTableCell getContent={(x) => x.product.color} />\r\n        </TableBody>\r\n      </Table>\r\n\r\n      <Text style={styles.text}>\r\n        <Text>\r\n          Date: {\"               \"}\r\n          {new Date(order.paymentIntent.created * 1000).toLocaleString()}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Order Id: {\"         \"}\r\n          {order.paymentIntent.id}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Order Status: {\"  \"}\r\n          {order.orderStatus}\r\n        </Text>\r\n        {\"\\n\"}\r\n        <Text>\r\n          Total Paid: {\"       \"}\r\n          {order.paymentIntent.amount}\r\n        </Text>\r\n      </Text>\r\n\r\n      <Text style={styles.footer}> ~ Thank you for shopping with us ~ </Text>\r\n    </Page>\r\n  </Document>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    textAlign: \"center\",\r\n  },\r\n  author: {\r\n    fontSize: 12,\r\n    textAlign: \"center\",\r\n    marginBottom: 40,\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n  },\r\n  image: {\r\n    marginVertical: 15,\r\n    marginHorizontal: 100,\r\n  },\r\n  header: {\r\n    fontSize: 12,\r\n    marginBottom: 20,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n  footer: {\r\n    padding: \"100px\",\r\n    fontSize: 12,\r\n    marginBottom: 20,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n  pageNumber: {\r\n    position: \"absolute\",\r\n    fontSize: 12,\r\n    bottom: 30,\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: \"center\",\r\n    color: \"grey\",\r\n  },\r\n});\r\n\r\nexport default Invoice;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect} from \"react\";\r\nimport UserNav from '../../components/nav/usernav'\r\nimport { getUserOrders } from \"../../function/user\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport ShowPaymentInfo from '../../components/card/paymentInfo'\r\nimport Invoice from \"../../components/order/invoice\"\r\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\r\n\r\nconst History = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadUserOrders();\r\n  }, []);\r\n\r\n  const loadUserOrders = () =>\r\n    getUserOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setOrders(res.data);\r\n    });\r\n\r\n    const showOrderInTable = (order) => (\r\n      <table className=\"table table-bordered\">\r\n        <thead className=\"thead-light\">\r\n          <tr>\r\n            <th scope=\"col\">Title</th>\r\n            <th scope=\"col\">Price</th>\r\n            <th scope=\"col\">Brand</th>\r\n            <th scope=\"col\">Color</th>\r\n            <th scope=\"col\">Count</th>\r\n            <th scope=\"col\">Shipping</th>\r\n          </tr>\r\n        </thead>\r\n  \r\n        <tbody>\r\n          {order.products.map((p, i) => (\r\n            <tr key={i}>\r\n              <td>\r\n                <b>{p.product.title}</b>\r\n              </td>\r\n              <td>{p.product.price}</td>\r\n              <td>{p.product.brand}</td>\r\n              <td>{p.color}</td>\r\n              <td>{p.count}</td>\r\n              <td>\r\n                {p.product.shipping === \"Yes\" ? (\r\n                  <CheckCircleOutlined style={{ color: \"green\" }} />\r\n                ) : (\r\n                  <CloseCircleOutlined style={{ color: \"red\" }} />\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n\r\n      const showDownloadLink = (order) => (\r\n        <PDFDownloadLink\r\n          document={<Invoice order={order} />}\r\n          fileName=\"invoice.pdf\"\r\n          className=\"btn btn-sm btn-block btn-outline-primary\"\r\n        >\r\n          Download PDF\r\n        </PDFDownloadLink>\r\n      );\r\n\r\n      const showEachOrders = () =>\r\n      orders.map((order, i) => (\r\n        <div key={i} className=\"m-5 p-3 card\">\r\n          <ShowPaymentInfo order={order} />\r\n          {showOrderInTable(order)}\r\n          <div className=\"row\">\r\n            <div className=\"col\">{showDownloadLink(order)}</div>\r\n          </div>\r\n        </div>\r\n      ));\r\n\r\n  return (\r\n    \r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col text-center\">\r\n          <h4>\r\n            {orders.length > 0 ? \"User purchase orders\" : \"No purchase orders\"}\r\n          </h4>\r\n          {showEachOrders()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Loadingpage = () => {\r\n  const [count, setCount] = useState(5);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((currentCount) => --currentCount);\r\n    }, 1000);\r\n    // redirect once count is equal to 0\r\n    count === 0 && history.push(\"/\");\r\n    // cleanup\r\n    return () => clearInterval(interval);\r\n  }, [count, history]);\r\n\r\n  return (\r\n    <div className=\"container p-5 text-center\">\r\n      <p>Redirecting you in {count} seconds</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loadingpage;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport LoadingPage from \"./loadingPage\";\r\n\r\n\r\nconst UserRoute = ({children, ...rest}) => {\r\n    const {user } = useSelector((state) => ({...state}))\r\n    return user && user.token ? (\r\n        <Route {...rest} render={()=>children} />\r\n    ) : \r\n    (\r\n        <LoadingPage />\r\n    )\r\n}\r\n\r\nexport default UserRoute","import React, {useEffect, useState} from 'react';\r\nimport { Route } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {currentAdmin} from '../../function/auth'\r\n\r\nimport LoadingPage from \"./loadingPage\";\r\n\r\n\r\nconst AdminRoute = ({children, ...rest}) => {\r\n    const {user } = useSelector((state) => ({...state}))\r\n    const [ok, setOk] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) {\r\n          currentAdmin(user.token)\r\n            .then((res) => {\r\n              console.log(\"CURRENT ADMIN RES\", res);\r\n              setOk(true);\r\n            })\r\n            .catch((err) => {\r\n              console.log(\"ADMIN ROUTE ERR\", err);\r\n              setOk(false);\r\n            });\r\n        }\r\n      }, [user]);\r\n\r\n    return ok ? <Route {...rest} /> : <LoadingPage />\r\n    \r\n}\r\n\r\nexport default AdminRoute\r\n\r\n\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../../firebase\"\r\nimport { toast } from \"react-toastify\"\r\nimport UserNav from '../../components/nav/usernav'\r\n\r\nconst Password = () => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    // console.log(password);\r\n\r\n    await auth.currentUser\r\n      .updatePassword(password)\r\n      .then(() => {\r\n        setLoading(false);\r\n        setPassword(\"\");\r\n        toast.success(\"Password updated\");\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        toast.error(err.message);\r\n      });\r\n  };\r\n\r\n  const passwordUpdateForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Your Password</label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"form-control\"\r\n          placeholder=\"Enter new password\"\r\n          disabled={loading}\r\n          value={password}\r\n        />\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          disabled={!password || password.length < 6 || loading}\r\n        >\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Password Update</h4>\r\n          )}\r\n          {passwordUpdateForm()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport UserNav from '../../components/nav/usernav'\r\nimport { useSelector } from 'react-redux'\r\nimport {getToWishlist, updateWishlist } from '../../function/user'\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\n\r\n// const Wishlist = () => {\r\n//   const [ wishlist, setWishlist] = useState([])\r\n\r\n//   const { user } = useSelector((state) => ({...state}))\r\n\r\n//   useEffect(() => {\r\n//     loadwishlistItems()\r\n//   }, [])\r\n\r\n//   const loadwishlistItems = () =>{\r\n//     getToWishlist(user.token)\r\n//     .then((res)=>{\r\n//       // console.log(res.data);\r\n//       setWishlist(res.data.wishlist)\r\n//     })\r\n//   }\r\n\r\n//   const handleRemove = (productId) => \r\n//     updateWishlist(productId, user.token).then((res)=>{\r\n//       console.log(\"deleted>>>>\", res.data)\r\n//       loadwishlistItems()\r\n//     })\r\n  \r\n\r\n//   return (\r\n//     <div className=\"container-fluid\">\r\n//       <div className=\"row\">\r\n//         <div className=\"col-md-2\">\r\n//           <UserNav />\r\n//         </div>\r\n//         <div className=\"col\">\r\n//           <h4>Wishlist</h4>\r\n\r\n//           {wishlist.map((p) => (\r\n//             <div key={p._id} className=\"alert alert-secondary\">\r\n//               <Link to={`/product/${p.slug}`}>{p.title}</Link>\r\n//               <span\r\n//                 onClick={() => handleRemove(p._id)}\r\n//                 className=\"btn btn-sm float-right\"\r\n//               >\r\n//                 <DeleteOutlined className=\"text-danger\" />\r\n//               </span>\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n\r\n// export default Wishlist;\r\n\r\n\r\n\r\nconst Wishlist = () => {\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadWishlist();\r\n  }, []);\r\n\r\n  const loadWishlist = () =>\r\n  getToWishlist(user.token).then((res) => {\r\n      // console.log(res);\r\n      setWishlist(res.data.wishlist);\r\n    });\r\n\r\n  const handleRemove = (productId) =>\r\n  updateWishlist(productId, user.token).then((res) => {\r\n      loadWishlist();\r\n    });\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <UserNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          <h4>Wishlist</h4>\r\n\r\n          {wishlist.map((p) => (\r\n            <div key={p._id} className=\"alert alert-secondary\">\r\n              <Link to={`/product/${p.slug}`}>{p.title}</Link>\r\n              <span\r\n                onClick={() => handleRemove(p._id)}\r\n                className=\"btn btn-sm float-right\"\r\n              >\r\n                <DeleteOutlined className=\"text-danger\" />\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wishlist;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminNav = () => (\r\n  <nav>\r\n    <ul className=\"nav flex-column\">\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/dashboard\" className=\"nav-link\">\r\n          Dashboard\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/product\" className=\"nav-link\">\r\n          Product\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/products\" className=\"nav-link\">\r\n          Products\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/category\" className=\"nav-link\">\r\n          Category\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/subcategory\" className=\"nav-link\">\r\n          Sub Category\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/admin/coupon\" className=\"nav-link\">\r\n          Coupon\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link to=\"/user/password\" className=\"nav-link\">\r\n          Password\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n);\r\n\r\nexport default AdminNav;\r\n","import axios from \"axios\";\r\n\r\nexport const getOrders = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/admin/orders`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/admin/order-status`,\r\n    { orderId, orderStatus },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React from \"react\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport ShowPaymentInfo from \"../card/paymentInfo\";\r\n\r\n\r\nconst Orders = ({ orders, handleStatusChange }) => {\r\n  const showOrderInTable = (order) => (\r\n    <table className=\"table table-bordered\">\r\n      <thead className=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Price</th>\r\n          <th scope=\"col\">Brand</th>\r\n          <th scope=\"col\">Color</th>\r\n          <th scope=\"col\">Count</th>\r\n          <th scope=\"col\">Shipping</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {order.products.map((p, i) => (\r\n          <tr key={i}>\r\n            <td>\r\n              <b>{p.product.title}</b>\r\n            </td>\r\n            <td>{p.product.price}</td>\r\n            <td>{p.product.brand}</td>\r\n            <td>{p.color}</td>\r\n            <td>{p.count}</td>\r\n            <td>\r\n              {p.product.shipping === \"Yes\" ? (\r\n                <CheckCircleOutlined style={{ color: \"green\" }} />\r\n              ) : (\r\n                <CloseCircleOutlined style={{ color: \"red\" }} />\r\n              )}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {orders.map((order) => (\r\n        <div key={order._id} className=\"row pb-5\">\r\n          <div className=\"btn btn-block bg-light\">\r\n            <ShowPaymentInfo order={order} showStatus={false} />\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">Delivery Status</div>\r\n              <div className=\"col-md-8\">\r\n                <select\r\n                  onChange={(e) =>\r\n                    handleStatusChange(order._id, e.target.value)\r\n                  }\r\n                  className=\"form-control\"\r\n                  defaultValue={order.orderStatus}\r\n                  name=\"status\"\r\n                >\r\n                  <option value=\"Not Processed\">Not Processed</option>\r\n                  <option value=\"Processing\">Processing</option>\r\n                  <option value=\"Dispatched\">Dispatched</option>\r\n                  <option value=\"Cancelled\">Cancelled</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {showOrderInTable(order)}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../components/nav/adminnav\"\r\nimport { getOrders, changeStatus } from \"../../function/admin\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport Orders from \"../../components/order/order\"\r\n\r\nconst AdminDashboard = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const loadOrders = () =>\r\n    getOrders(user.token).then((res) => {\r\n      console.log(JSON.stringify(res.data, null, 4));\r\n      setOrders(res.data);\r\n    });\r\n\r\n  const handleStatusChange = (orderId, orderStatus) => {\r\n    changeStatus(orderId, orderStatus, user.token).then((res) => {\r\n      toast.success(\"Status updated\");\r\n      loadOrders();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col-md-10\">\r\n          <h4>Admin Dashboard</h4>\r\n            <Orders orders={orders} handleStatusChange={handleStatusChange} />\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n\r\n\r\n","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\n\r\n//  all categories\r\nexport const getCategories = async () =>\r\n    await axios.get(`${process.env.REACT_APP_API}/categories`)\r\n\r\n\r\nexport const getCategory  = async (slug) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/category/${slug}`)\r\n\r\n\r\nexport const removeCategory = async (slug, authtoken) =>\r\n    await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n    })\r\n\r\nexport const updateCategory = async (slug, category, authtoken) => \r\n    await axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\r\n        headers: {\r\n            authtoken,\r\n        }\r\n    })\r\n\r\nexport const createCategory = async (category, authtoken) => \r\n    await axios.post(`${process.env.REACT_APP_API}/category`, category, {\r\n        headers: {authtoken}\r\n})\r\n\r\n\r\nexport const getCategorySub = async (_id) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\r\n","import React from 'react'\r\n\r\n\r\n    const CategoryForm = ({name, handleSubmit, setName}) => (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label>Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    value={name}\r\n                    autoFocus\r\n                    required\r\n                />\r\n                <br />\r\n                <button className=\"btn btn-outline-primary\">Save</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\nexport default CategoryForm\r\n","import React from \"react\";\r\n\r\nconst SearchForm = ({ keyword, setKeyword }) => {\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault();\r\n    setKeyword(e.target.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <input\r\n      type=\"search\"\r\n      placeholder=\"Search\"\r\n      value={keyword}\r\n      onChange={handleSearchChange}\r\n      className=\"form-control mb-4\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchForm\r\n\r\n","import React,{ useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\"\r\nimport { toast } from \"react-toastify\"\r\nimport { useSelector } from 'react-redux'\r\nimport { createCategory, getCategories, removeCategory} from \"../../../function/category\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\nimport {EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport CategoryFrom from '../../../components/form/categoryForm'\r\nimport SearchForm from '../../../components/form/searchForm'\r\n\r\n\r\n\r\nconst CategoryCreate = () => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const [ keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n      loadCategories();\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n      getCategories().then((c) => setCategories(c.data));\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      // console.log(name);\r\n      setLoading(true);\r\n      createCategory({ name }, user.token)\r\n        .then((res) => {\r\n          // console.log(res)\r\n          setLoading(false);\r\n          setName(\"\");\r\n          toast.success(`\"${res.data.name}\" is created`);\r\n          loadCategories();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setLoading(false);\r\n          if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n\r\n    const handleRemove = async (slug) => {\r\n      // let answer = window.confirm(\"Delete?\");\r\n      // console.log(answer, slug);\r\n      if (window.confirm(\"Delete?\")) {\r\n        setLoading(true);\r\n        removeCategory(slug, user.token)\r\n          .then((res) => {\r\n            setLoading(false);\r\n            toast.error(`${res.data.name} deleted`);\r\n            loadCategories();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response.status === 400) {\r\n              setLoading(false);\r\n              toast.error(err.response.data);\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    // const handleSearch = (e) =>{\r\n    //   e.preventDefault();\r\n    //   setKeyword(e.target.value.toLowerCase());\r\n    // }\r\n\r\n    const searchedItem = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-2\">\r\n            <AdminNav />\r\n          </div>\r\n          <div className=\"col\">\r\n            {loading ? (\r\n              <h4 className=\"text-danger\">Loading..</h4>\r\n            ) : (\r\n              <h4>Create category</h4>\r\n            )}\r\n            <CategoryFrom \r\n                handleSubmit = {handleSubmit}\r\n                name={name}\r\n                setName = {setName}\r\n            />\r\n            <SearchForm \r\n              keyword={keyword}\r\n              setKeyword = {setKeyword}\r\n            />\r\n            {/* <input \r\n              type = \"search\"\r\n              className=\"form-control mb-4\"\r\n              value={keyword}\r\n              placeholder=\"Search\"\r\n              onChange={handl eSearch}\r\n            /> */}\r\n            <hr />\r\n            {categories.filter(searchedItem(keyword)).map((c) => (\r\n              <div className=\"alert alert-secondary\" key={c._id}>\r\n                {c.name}\r\n                <span\r\n                  onClick={() => handleRemove(c.slug)}\r\n                  className=\"btn btn-sm float-right\"\r\n                >\r\n                  <DeleteOutlined className=\"text-danger\" />\r\n                </span>\r\n                <Link to={`/admin/category/${c.slug}`}>\r\n                  <span className=\"btn btn-sm float-right\">\r\n                    <EditOutlined className=\"text-warning\" />\r\n                  </span>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default CategoryCreate;\r\n\r\n// my code get category error\r\n\r\n// const CategoryCreate = () => {\r\n\r\n//   const { user } = useSelector((state) => ({...state}))\r\n\r\n//   const [name, setName] = useState(\"\")\r\n//   const [loading, setLoading] = useState(false)\r\n//   const [categories, setCategories] = useState([])\r\n\r\n//   useEffect(() => {\r\n//     // allcategories =  getCategories().then((c) => setCategories(c.data))\r\n//     allcategories()\r\n//   }, [])\r\n\r\n//   const allcategories = () => getCategories().then((c) => setCategories(c.data))\r\n//   console.log(\">>>>>\",allcategories())\r\n  \r\n//   const handleSubmit= (e) => {\r\n//     e.preventDefault()\r\n//     // console.log(\"name>>>>\",name)\r\n//     setLoading(true)\r\n//     createCategory({name}, user.token)\r\n//       .then((res) => {\r\n//         // console.log(\"res>>>>\", res)\r\n//         setLoading(false)\r\n//         setName('')\r\n//         toast.success(`\"${res.data.name}\" is craeted`)\r\n//         allcategories()\r\n//       })\r\n//       .catch((err) => {\r\n//         // console.log(\"er>>>>\", err)\r\n//         setLoading(false)\r\n//         if(err.response.status === 400) toast.error(err.response.data)\r\n//       });\r\n//   }\r\n\r\n//   const handleRemove = (slug) =>{\r\n//     // let ans =(window.confirm(`Are you sure you want to delete ${slug} item`))\r\n//     // console.log(ans, slug)\r\n//       if(window.confirm('Are you sure you want to delete')){\r\n//         setLoading(true)\r\n//         removeCategory(slug, user.token)\r\n//         .then((res)=>{\r\n//           setLoading(false)\r\n//           toast.error(`successfully you deleted ${res.data.name} item`)\r\n//           allcategories()\r\n//         })\r\n//         .catch((err) => {\r\n//           if (err.response.status === 400) {\r\n//             setLoading(false);\r\n//             toast.error(err.response.data);\r\n//           }\r\n//         })\r\n//       }\r\n//     }\r\n  \r\n\r\n//   const categoryForm = () => <form onSubmit={handleSubmit}>\r\n//      <div className=\"form-group\">\r\n//       <label>Name</label>\r\n//       <input\r\n//           type=\"text\"\r\n//           className=\"form-control\"\r\n//           onChange={(e) => setName(e.target.value)}\r\n//           value={name}\r\n//           autoFocus\r\n//           required\r\n//         />\r\n//         <br />\r\n//       <button className=\"btn btn-outline-primary\">SAVE</button>\r\n//      </div>\r\n//   </form>\r\n\r\n\r\n//   return (\r\n//       <div className=\"container-fluid\">\r\n//           <div className=\"row\">\r\n//             <div className=\"col-md-2\">\r\n//               <AdminNav />\r\n//             </div>\r\n//             <div className=\"col\">\r\n//               {loading ? (\r\n//                 <h4 className=\"text-danger\">Loading...</h4>\r\n//               ):(\r\n//                 <h4>Category Form</h4> \r\n//               )}\r\n//               {categoryForm()}\r\n//               <hr />\r\n              \r\n//               {categories.map((c) => (\r\n//                 <div className=\"alert alert-secondary\" key={c._id}>\r\n//                   {c.name}\r\n//                   {/* <span\r\n//                     onClick={() => handleRemove(c.slug)}\r\n//                     className=\"btn btn-sm float-right\"\r\n//                   >\r\n//                     <DeleteOutlined className=\"text-danger\" />\r\n//                   </span>\r\n//                   <Link to={`/admin/category/${c.slug}`}>\r\n//                     <span className=\"btn btn-sm float-right\">\r\n//                       <EditOutlined className=\"text-warning\" />\r\n//                     </span>\r\n//                   </Link> */}\r\n//                 </div>\r\n//               ))}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n    \r\n//   );\r\n// };\r\n\r\n// export default CategoryCreate;\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React,{ useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\"\r\nimport { toast } from \"react-toastify\"\r\nimport { useSelector } from 'react-redux'\r\nimport { getCategory, updateCategory} from \"../../../function/category\"\r\nimport CategoryFrom from '../../../components/form/categoryForm'\r\n\r\nconst CategoryUpdate = ({history, match}) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    // const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // console.log('match>>>>>>>>', match)\r\n        loadCategory()\r\n    }, []);\r\n\r\n    const loadCategory = () =>\r\n        getCategory(match.params.slug).then((c) => setName(c.data.name));\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(name);\r\n        setLoading(true);\r\n        updateCategory(match.params.slug, { name }, user.token)\r\n        .then((res) => {\r\n            // console.log(res)\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`\"${res.data.name}\" is updated`);\r\n            history.push(\"/admin/category\")\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                    <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                    <h4>Update category</h4>\r\n                    )}\r\n                    <CategoryFrom \r\n                        handleSubmit = {handleSubmit}\r\n                        name={name}\r\n                        setName = {setName}\r\n                    />\r\n                    <hr />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CategoryUpdate","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\n\r\n//  all categories\r\nexport const getSubCategories = async () =>\r\n    await axios.get(`${process.env.REACT_APP_API}/subcategories`)\r\n\r\n\r\nexport const getSubCategory  = async (slug) =>\r\n    await axios.get(`${process.env.REACT_APP_API}/subcategory/${slug}`)\r\n\r\n\r\nexport const removeSubCategory = async (slug, authtoken) =>\r\n    await axios.delete(`${process.env.REACT_APP_API}/subcategory/${slug}`, {\r\n        headers: {\r\n            authtoken,\r\n        },\r\n    })\r\n\r\nexport const updateSubCategory = async (slug, subCategory, authtoken) => \r\n    await axios.put(`${process.env.REACT_APP_API}/subcategory/${slug}`, subCategory, {\r\n        headers: {\r\n            authtoken,\r\n        }\r\n    })\r\n\r\nexport const createSubCategory = async (subCategory, authtoken) => \r\n    await axios.post(`${process.env.REACT_APP_API}/subcategory`, subCategory, {\r\n        headers: {authtoken}\r\n})\r\n\r\n","import React,{ useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\"\r\nimport { toast } from \"react-toastify\"\r\nimport { useSelector } from 'react-redux'\r\nimport {  getCategories } from \"../../../function/category\"\r\n\r\nimport { createSubCategory, getSubCategories, removeSubCategory } from \"../../../function/subcategory\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\nimport {EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport CategoryFrom from '../../../components/form/categoryForm'\r\nimport SearchForm from '../../../components/form/searchForm'\r\n\r\n\r\n\r\nconst SubCategoryCreate = () => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    // parent category \r\n    const [category, setCategory] = useState('')\r\n    const [subcategories, setSubCategories] = useState([]);\r\n\r\n\r\n    const [ keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n        loadSubCategories()\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) => setCategories(c.data));\r\n\r\n    const loadSubCategories = () =>\r\n        getSubCategories().then((c) => setSubCategories(c.data));\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n      // console.log(name);\r\n        setLoading(true);\r\n        createSubCategory({ name, parent: category }, user.token)\r\n        .then((res) => {\r\n          // console.log(res)\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`\"${res.data.name}\" is created`);\r\n            loadSubCategories();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n\r\n    const handleRemove = async (slug) => {\r\n      // let answer = window.confirm(\"Delete?\");\r\n      // console.log(answer, slug);\r\n        if (window.confirm(\"Delete?\")) {\r\n        setLoading(true);\r\n        removeSubCategory(slug, user.token)\r\n        .then((res) => {\r\n            setLoading(false);\r\n            toast.error(`${res.data.name} deleted`);\r\n            loadSubCategories()\r\n        })\r\n        .catch((err) => {\r\n            if (err.response.status === 400) {\r\n                setLoading(false);\r\n                toast.error(err.response.data);\r\n            }\r\n        });\r\n    }\r\n    };\r\n\r\n    const searchedItem = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                    <div className=\"col-md-2\">\r\n                        <AdminNav />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                    {loading ? (\r\n                    <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                    <h4>Create Sub-category</h4>\r\n                    )}\r\n                    <div className=\"form-group\">\r\n                        <label>Parent category</label>\r\n                        <select name = \"category\" className=\"form-control\" onChange={(e) => setCategory(e.target.value)}>\r\n                            <option>Please Select one Main Category</option>\r\n                            {categories.length > 0 && \r\n                                categories.map((c)=>\r\n                                <option key = {c._id} value = {c._id}>\r\n                                    {c.name}\r\n                                </option>)}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <CategoryFrom \r\n                        handleSubmit = {handleSubmit}\r\n                        name={name}\r\n                        setName = {setName}\r\n                    />\r\n\r\n                    <SearchForm \r\n                        keyword={keyword}\r\n                        setKeyword = {setKeyword}\r\n                    />\r\n\r\n                    <hr />\r\n                    {subcategories.filter(searchedItem(keyword)).map((s) => (\r\n                    <div className=\"alert alert-secondary\" key={s._id}>\r\n                        {s.name}\r\n                        <span\r\n                        onClick={() => handleRemove(s.slug)}\r\n                        className=\"btn btn-sm float-right\"\r\n                        >\r\n                        <DeleteOutlined className=\"text-danger\" />\r\n                        </span>\r\n                        <Link to={`/admin/subcategory/${s.slug}`}>\r\n                        <span className=\"btn btn-sm float-right\">\r\n                            <EditOutlined className=\"text-warning\" />\r\n                        </span>\r\n                        </Link>\r\n                    </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubCategoryCreate;\r\n\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n\r\nimport React,{ useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\"\r\nimport { toast } from \"react-toastify\"\r\nimport { useSelector } from 'react-redux'\r\nimport {  getCategories } from \"../../../function/category\"\r\nimport { getSubCategory, updateSubCategory } from \"../../../function/subcategory\"\r\nimport CategoryFrom from '../../../components/form/categoryForm'\r\n\r\nconst SubCategoryUpdate = ({match, history}) => {\r\n\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    // parent category \r\n    const [parent, setParent] = useState('')\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n        loadSubCategory()\r\n    }, []);\r\n\r\n    const loadCategories = () =>\r\n        getCategories().then((c) => setCategories(c.data));\r\n\r\n    const loadSubCategory = () =>\r\n        getSubCategory(match.params.slug).then((s) => {\r\n            setName(s.data.name);\r\n            setParent(s.data.parent);\r\n    });\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n      // console.log(name);\r\n        setLoading(true);\r\n        updateSubCategory(match.params.slug, { name, parent }, user.token)\r\n        .then((res) => {\r\n          // console.log(res)\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`\"${res.data.name}\" is updated`);\r\n            // loadSubCategories();\r\n            history.push('/admin/subCategory')\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                    <div className=\"col-md-2\">\r\n                        <AdminNav />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                    {loading ? (\r\n                    <h4 className=\"text-danger\">Loading..</h4>\r\n                    ) : (\r\n                    <h4>Create Sub-category</h4>\r\n                    )}\r\n                    <div className=\"form-group\">\r\n                        <label>Parent category</label>\r\n                        <select \r\n                            name = \"category\" \r\n                            className=\"form-control\" \r\n                            onChange={(e) => setParent(e.target.value)}\r\n                        >\r\n                            <option>Please Select one Main Category</option>\r\n                                {categories.length > 0 && \r\n                                    categories.map((c)=>(\r\n                                    <option key = {c._id} value = {c._id} selected = {c._id === parent}>\r\n                                        {c.name}\r\n                                </option>\r\n                                ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <CategoryFrom \r\n                        handleSubmit = {handleSubmit}\r\n                        name={name}\r\n                        setName = {setName}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubCategoryUpdate;\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nconst ProductForm = ({ handleSubmit, handleChange, setValues, values, handleCatagoryChange, showSub, subOptions}) => {\r\n\r\n    const {\r\n        title,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        subc,\r\n        shipping,\r\n        quantity,\r\n        images,\r\n        colors,\r\n        brands,\r\n        color,\r\n        brand,\r\n        } = values;\r\n\r\n\r\n    return(\r\n        <form onSubmit={handleSubmit}> \r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Category</label>\r\n                        <select\r\n                            name = \"category\"       \r\n                            className=\"form-control\" \r\n                            onChange={handleCatagoryChange}\r\n                        >\r\n                            <option>Please Select one Main Category</option>\r\n                            {categories.length > 0 && \r\n                                categories.map((c) => ( \r\n                                <option key = {c._id} value = {c._id}>\r\n                                    {c.name}\r\n                                </option>))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {showSub && (\r\n                        <div>\r\n                            <label>Sub Categories</label>\r\n                            <Select\r\n                                mode=\"multiple\"\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Please select\"\r\n                                value={subc}\r\n                                onChange={(value) => setValues({ ...values, subc: value })}\r\n                            >\r\n                                {subOptions.length && \r\n                                    subOptions.map((sc)=>\r\n                                    <Option value={sc._id} key={sc._id}>{sc.name}</Option>\r\n                                    )}\r\n                            </Select>\r\n                        </div>\r\n                    )}\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Title</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"title\"\r\n                                    className=\"form-control\"\r\n                                    value={title}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Description</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"description\"\r\n                                    className=\"form-control\"\r\n                                    value={description}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Price</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"price\"\r\n                                    className=\"form-control\"\r\n                                    value={price}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Shipping</label>\r\n                                <select\r\n                                    name=\"shipping\"\r\n                                    className=\"form-control\"\r\n                                    onChange={handleChange}\r\n                                >\r\n                                    <option>Please select</option>\r\n                                    <option value=\"Yes\">Yes</option>\r\n                                    <option value=\"No\">No</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Quantity</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"quantity\"\r\n                                    className=\"form-control\"\r\n                                    value={quantity}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Color</label>\r\n                                <select\r\n                                    name=\"color\"\r\n                                    className=\"form-control\"\r\n                                    onChange={handleChange}\r\n                                >\r\n                                <option>Please select</option>\r\n                                    {colors.map((c) => (\r\n                                        <option key={c} value={c}>\r\n                                            {c}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Brand</label>\r\n                                <select\r\n                                    name=\"brand\"\r\n                                    className=\"form-control\"\r\n                                    onChange={handleChange}\r\n                                >\r\n                                    <option>Please select</option>\r\n                                    {brands.map((b) => (\r\n                                        <option key={b} value={b}>\r\n                                        {b}\r\n                                    </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <button className=\"btn btn-outline-info\">Save</button>\r\n                        </form>\r\n    )\r\n}\r\n\r\nexport default ProductForm\r\n\r\n\r\n\r\n//<form onSubmit={handleSubmit}>\r\n//                         <div className=\"form-group\">\r\n//                             <label>Title</label>\r\n//                             <input\r\n//                             type=\"text\"\r\n//                             name=\"title\"\r\n//                             className=\"form-control\"\r\n//                             value={title}\r\n//                             onChange={handleChange}\r\n//                         />\r\n//                         </div>\r\n\r\n//                         <div className=\"form-group\">\r\n//                             <label>Description</label>\r\n//                             <input\r\n//                             type=\"text\"\r\n//                             name=\"description\"\r\n//                             className=\"form-control\"\r\n//                             value={description}\r\n//                             onChange={handleChange}\r\n//                             />\r\n//                         </div>\r\n        \r\n//                         <div className=\"form-group\">\r\n//                             <label>Price</label>\r\n//                             <input\r\n//                             type=\"number\"\r\n//                             name=\"price\"\r\n//                             className=\"form-control\"\r\n//                             value={price}\r\n//                             onChange={handleChange}\r\n//                             />\r\n//                         </div>\r\n\r\n//                         <div className=\"form-group\">\r\n//                             <label>Shipping</label>\r\n//                             <select\r\n//                             name=\"shipping\"\r\n//                             className=\"form-control\"\r\n//                             onChange={handleChange}\r\n//                             >\r\n//                                 <option>Please select</option>\r\n//                                 <option value=\"No\">No</option>\r\n//                                 <option value=\"Yes\">Yes</option>\r\n//                             </select>\r\n//                         </div>\r\n\r\n//                         <div className=\"form-group\">\r\n//                             <label>Quantity</label>\r\n//                             <input\r\n//                             type=\"number\"\r\n//                             name=\"quantity\"\r\n//                             className=\"form-control\"\r\n//                             value={quantity}\r\n//                             onChange={handleChange}\r\n//                             />\r\n//                         </div>\r\n\r\n//                         <div className=\"form-group\">\r\n//                             <label>Brand</label>\r\n//                             <select\r\n//                             name=\"brand\"\r\n//                             className=\"form-control\"\r\n//                             onChange={handleChange}\r\n//                             >\r\n//                                 <option>Please select</option>\r\n//                                 {brands.map((b) => (\r\n//                                     <option key={b} value={b}>\r\n//                                     {b}\r\n//                                     </option>\r\n//                                 ))}\r\n//                             </select>\r\n//                         </div>\r\n\r\n//                         <div className=\"form-group\">\r\n//                             <label>Color</label>\r\n//                             <select\r\n//                             name=\"color\"\r\n//                             className=\"form-control\"\r\n//                             onChange={handleChange}\r\n//                             >\r\n//                                 <option>Please select</option>\r\n//                                     {colors.map((c) => (\r\n//                                         <option key={c} value={c}>\r\n//                                         {c}\r\n//                                     </option>\r\n//                                 ))}\r\n//                             </select>\r\n//                         </div>\r\n\r\n//                         <button className=\"btn btn-outline-info\">Save</button>\r\n//                     </form>","import React from \"react\";\r\nimport Resizer from \"react-image-file-resizer\"\r\nimport { Badge, Avatar } from \"antd\"\r\nimport { useSelector} from 'react-redux'\r\nimport  axios from \"axios\"\r\nconst url = 'http://localhost:9000/api'\r\n\r\n\r\nconst FileUpload = ({ values, setValues, setLoading}) => {\r\n\r\n    const { user } = useSelector((state) => ({...state}))\r\n\r\n  const fileUploadAndResize = (e) => {\r\n    // console.log(e.target.files);\r\n\r\n        // resize\r\n        let files = e.target.files; \r\n        let allUploadedFiles = values.images;\r\n\r\n        if (files) {\r\n            setLoading(true)\r\n            for (let i = 0; i < files.length; i++) {\r\n                Resizer.imageFileResizer(\r\n                files[i],\r\n                720,\r\n                720,\r\n                \"JPEG\",\r\n                100,\r\n                0,\r\n                (uri) => {\r\n                    // console.log(\"files>>>>>>>\",uri);\r\n                    axios\r\n                        .post(`${url}/uploadimages`, \r\n                        { image: uri },    \r\n                        {\r\n                            headers: {\r\n                                authtoken: user ? user.token : \" \"\r\n                            },\r\n                        }\r\n                    )\r\n                    .then((res)=>{\r\n                        console.log('img response>>>', res)\r\n                        setLoading(false)\r\n                        allUploadedFiles.push(res.data)\r\n                        setValues({ ...values, images:allUploadedFiles })\r\n                    })\r\n                    .catch((err)=>{\r\n                        setLoading(false);\r\n                        console.log(\"CLOUDINARY UPLOAD ERR\", err);\r\n                    })\r\n                },\r\n                \"base64\"\r\n                );\r\n            }\r\n        }\r\n        // send back to server to upload to cloudinary\r\n        // set url to images[] in the parent component state - ProductCreate\r\n    };\r\n    const handleRemoveImage = (public_id) => {\r\n      setLoading(true);\r\n          // console.log(\"remove image\", public_id);\r\n\r\n      axios\r\n      .post(`${url}/deleteimages`, {public_id},\r\n        {\r\n          headers: {\r\n            authtoken: user ? user.token : \"\"\r\n          },\r\n        }\r\n      )\r\n      .then((res) =>{\r\n        setLoading(false);\r\n        const { images } = values\r\n        let filteredimages = images.filter((item)=>{\r\n          return item.public_id !== public_id;        \r\n        })\r\n        setValues({ ...values, images:filteredimages })\r\n      })\r\n      .catch((err)=>{\r\n        console.log(err);\r\n        setLoading(false);\r\n      })\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className = \"row\">\r\n          {values.images && values.images.map((image)=>(\r\n            <Badge\r\n              count = \"X\"\r\n              key={image.public_id} \r\n              style={{ cursor: \"pointer\" }}\r\n              onClick = {() => handleRemoveImage(image.public_id)}\r\n              \r\n            >\r\n                <Avatar \r\n                  shape = \"square\"\r\n                  src={image.url} size= {100} \r\n                  className = \"ml-3\" />\r\n            </Badge>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n            <label className=\"btn btn-primary  btn-raised mt-3\">\r\n            Choose File\r\n            <input\r\n                type=\"file\"\r\n                multiple\r\n                hidden\r\n                accept=\"images/*\"\r\n                onChange={fileUploadAndResize}\r\n            />\r\n            </label>\r\n        </div>\r\n      </>\r\n    );\r\n};\r\n  \r\nexport default FileUpload;\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createProduct } from \"../../../function/product\";\r\nimport {  getCategories, getCategorySub, } from \"../../../function/category\"\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nimport ProductForm from \"../../../components/form/productCreateForm\"\r\nimport FileUpload from \"../../../components/form/fileUpload\"\r\n\r\n\r\nconst initialState = {\r\n    title: \"\",\r\n    descriptioin: \"\",\r\n    price: \"999\",\r\n    categories: [],\r\n    category: \"\",\r\n    subc: [],\r\n    shipping: \"Yes\", \r\n    quantity: \"50\",\r\n    images: [],\r\n    colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n    brands: [\"Police\", \"4711\", \"PlayBoy\", \"Estle\", \"Swiss Image\", \"Plum\", \"Deborah Milano\", \"Ajmal\", \"Guess\"],\r\n    color: \"White\",\r\n    brand: \"4711\",\r\n};\r\n\r\nconst ProductCreate = () => {\r\n\r\n        const [values, setValues] = useState(initialState);\r\n        const [subOptions, setSubOptions] = useState([])\r\n        const [showSub, setShowSub] = useState(false)\r\n        const [loading, setLoading] = useState(false)\r\n        // redux\r\n        const { user } = useSelector((state) => ({ ...state }));\r\n        // destructure\r\n        \r\n        useEffect(() => {\r\n            loadCategories();\r\n        }, []);\r\n\r\n        const loadCategories = () =>\r\n            getCategories().then((c) => setValues({...values, categories: c.data}));\r\n\r\n        const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        createProduct(values, user.token)\r\n            .then((res) => {\r\n                // console.log(res);\r\n                window.alert(`${res.data.title} is created`)\r\n                window.location.reload()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                // if (err.response.status === 400) toast.error(err.response.data);\r\n                toast.error(err.response.data.err)\r\n            });\r\n        };\r\n    \r\n        const handleChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value });\r\n        // console.log(e.target.name, \" ----- \", e.target.value);\r\n        };\r\n\r\n        const handleCatagoryChange = (e) => {\r\n            e.preventDefault();\r\n            // console.log(\"CLICKED CATEGORY>>>\", e.target.value)\r\n            setValues({ ...values, subc : [], category: e.target.value });\r\n            getCategorySub(e.target.value)\r\n            .then((res) => {\r\n                // console.log(\"SUB CATEGORY options>>>\", res)\r\n                setSubOptions(res.data);\r\n            })\r\n            setShowSub(true);\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-2\">\r\n                        <AdminNav />\r\n                    </div>\r\n        \r\n                    <div className=\"col-md-10\">\r\n                        {loading ? <LoadingOutlined className=\"text-danger h1\"/>: <h4>Product create</h4>}\r\n                        <hr />\r\n\r\n                        {/* {JSON.stringify(values)} */}\r\n                        {/* {JSON.stringify(values.images)} */}\r\n                        \r\n\r\n                        <div className=\"p-3\">\r\n                            <FileUpload\r\n                            values={values}\r\n                            setValues={setValues}\r\n                            setLoading={setLoading}\r\n                            />\r\n                        </div>\r\n                        < ProductForm\r\n                            handleSubmit = {handleSubmit}\r\n                            handleChange = {handleChange}\r\n                            handleCatagoryChange = {handleCatagoryChange}\r\n                            setValues = {setValues}\r\n                            values = {values}\r\n                            showSub = {showSub}\r\n                            subOptions = {subOptions}\r\n                        />\r\n\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n    \r\nexport default ProductCreate;\r\n\r\n","import React from 'react'\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card } from 'antd';\r\n\r\n\r\nconst { Meta } = Card;\r\n\r\nconst AdminProductCard = ({product, removeProduct}) =>{\r\n    // destructure\r\n    const { title, description, images, slug} = product\r\n\r\n    return(\r\n        <Card\r\n            style={{ width: 240, height: \"150px\", objectFit: \"cover\" }}\r\n            className = 'p-1'\r\n            cover={\r\n                <img alt={title} \r\n                src= {images && images.length ? images[0].url : \" \"} \r\n                />\r\n            }\r\n            actions={[ \r\n                <Link to = {`/admin/product/${slug}`}>\r\n                    <EditOutlined \r\n                        className=\"text-warning\" \r\n                    />\r\n                </Link>  \r\n                ,\r\n                <DeleteOutlined \r\n                    className=\"text-danger\" \r\n                    onClick = {() => removeProduct(slug)}\r\n                />\r\n            ]}\r\n        >\r\n            <Meta \r\n                title={title} \r\n                description={`${description && description.substring(0, 40)}...`} \r\n            />\r\n        </Card>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AdminProductCard","import React, { useState, useEffect }from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\"\r\nimport { useSelector } from  \"react-redux\"\r\nimport { getProductsByCount, ProductRemove } from '../../../function/product'\r\nimport AdminProductCard from '../../../components/card/adminproductcard'\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\n\r\n\r\nconst AllProducts = () => {\r\n\r\n    const { user } = useSelector((state) => ({...state}))\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [ products, setProducts] = useState([])\r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    }, [])\r\n\r\n    const loadAllProducts = () =>{\r\n        setLoading(true)\r\n        getProductsByCount(100)\r\n        .then((res)=>{\r\n            setProducts(res.data)\r\n            setLoading(false)\r\n        })\r\n        .catch((err)=> {\r\n            setLoading(false)\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const removeProduct = (slug) =>{\r\n            // let answer = window.confirm(\"Delete?\");\r\n            // if (answer){\r\n            //     console.log(\"send delete request\", slug);\r\n            // }\r\n\r\n\r\n        if(window.confirm(\"Are you sure you want to delete?\")){\r\n            ProductRemove(slug, user.token)\r\n                .then((res) =>{\r\n                    loadAllProducts()\r\n                    toast.error(`${res.data.title} is deleted`);\r\n                })\r\n                .catch((err) =>{\r\n                    if (err.response.status === 400) toast.error(err.response.data);\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading...</h4>\r\n                    ) : (\r\n                        <h4>All Products</h4>\r\n                    )}\r\n                    <div className=\"row\">\r\n                        {products.map((product) => (\r\n                        <div key={product._id} className=\"col-md-4 pb-4\">\r\n                            <AdminProductCard \r\n                                product={product} \r\n                                removeProduct={removeProduct}\r\n                            />\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllProducts;\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nconst ProductUpdateForm = ({ \r\n    handleSubmit, handleChange, setValues, values, selectedCategory,\r\n    handleCategoryChange, categories, subOptions, arrayOfSubs, setArrayOfSubs }) => {\r\n\r\n    const {\r\n        title,\r\n        description,\r\n        price,\r\n        category,\r\n        subc,\r\n        shipping,\r\n        quantity,\r\n        images,\r\n        colors,\r\n        brands,\r\n        color,\r\n        brand,\r\n        } = values;\r\n    return(\r\n        <form onSubmit={handleSubmit}> \r\n\r\n            <div className=\"form-group\">\r\n                <label>Category</label>\r\n                <select\r\n                    name = \"category\"       \r\n                    className=\"form-control\" \r\n                    onChange={handleCategoryChange}\r\n                    value={selectedCategory ? selectedCategory : category._id}\r\n                >\r\n                    {categories.length > 0 && \r\n                        categories.map((c) => ( \r\n                        <option key = {c._id} value = {c._id}>\r\n                            {c.name}\r\n                        </option>))}\r\n                </select>\r\n            </div> \r\n\r\n            <div>\r\n                <label>Sub Categories</label>\r\n                <Select\r\n                    mode=\"multiple\"\r\n                    style={{ width: \"100%\" }}\r\n                    placeholder=\"Please select\"\r\n                    value={arrayOfSubs}\r\n                    onChange={(value) => setArrayOfSubs(value)}                            >\r\n                    {subOptions.length && \r\n                        subOptions.map((sc)=>\r\n                        <Option value={sc._id} key={sc._id}>{sc.name}</Option>\r\n                        )}\r\n                </Select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Title</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    className=\"form-control\"\r\n                    value={title}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    className=\"form-control\"\r\n                    value={description}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Price</label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    className=\"form-control\"\r\n                    value={price}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Shipping</label>\r\n                <select\r\n                    key = { shipping === \"Yes\" ? \"Yes\" : \"No\" }\r\n                    name=\"shipping\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                    <option value=\"Yes\">Yes</option>\r\n                    <option value=\"No\">No</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Quantity</label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"quantity\"\r\n                    className=\"form-control\"\r\n                    value={quantity}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Color</label>\r\n                <select\r\n                    value={color}\r\n                    name=\"color\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                \r\n                    {colors.map((c) => (\r\n                        <option key={c} value={c}>\r\n                            {c}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Brand</label>\r\n                <select\r\n                    name=\"brand\"\r\n                    value={brand}\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                >\r\n                    {brands.map((b) => (\r\n                        <option key={b} value={b}>\r\n                        {b}\r\n                    </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-info\">Save</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ProductUpdateForm\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/adminnav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getProduct, updateProduct } from \"../../../function/product\";\r\nimport {  getCategories, getCategorySub, } from \"../../../function/category\"\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nimport FileUpload from \"../../../components/form/fileUpload\"\r\nimport ProductUpdateForm from \"../../../components//form/productUpdateForm\"\r\n\r\nconst initialState = {\r\n    title: \"\",\r\n    descriptioin: \"\",\r\n    price: \"\",\r\n    category: \"\",\r\n    subc: [],\r\n    shipping: \"\",\r\n    quantity: \"\",\r\n    images: [],\r\n    colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n    brands: [\"Police\", \"4711\", \"PlayBoy\", \"Estle\", \"Swiss Image\", \"Plum\", \"Deborah Milano\", \"Ajmal\", \"Guess\"],\r\n    color: \"\",\r\n    brand: \"\",\r\n};\r\n\r\nconst ProductUpdate = ({match, history}) => {\r\n\r\n        const { user } = useSelector((state) => ({ ...state}))\r\n\r\n        //state\r\n        const [values, setValues] = useState(initialState);\r\n        const [subOptions, setSubOptions] = useState([])\r\n        const [ categories, setCategories] = useState([])\r\n        const [ arrayOfSubs, setArrayOfSubs ] = useState([])\r\n        const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n        const [loading, setLoading] = useState(false)\r\n\r\n\r\n        //routes\r\n        const { slug } = match.params\r\n\r\n        useEffect(() => {\r\n            loadProduct()\r\n            loadCategories()\r\n        }, [] )\r\n\r\n        const loadProduct = () => {\r\n            getProduct(slug).then((p) => {\r\n              // console.log(\"single product\", p);\r\n              // 1 load single proudct\r\n                setValues({ ...values, ...p.data });\r\n              // 2 load single product category subs\r\n                getCategorySub(p.data.category._id).then((res) => {\r\n                    setSubOptions(res.data); // on first load, show default subs\r\n                });\r\n              // 3 prepare array of sub ids to show as default sub values in antd Select\r\n                let arr = [];\r\n                p.data.subc.map((s) => \r\n                    arr.push(s._id)\r\n                );\r\n                console.log(\"ARR\", arr);\r\n                setArrayOfSubs((prev) => arr); // required for ant design select to work\r\n            });\r\n        };\r\n\r\n        const handleSubmit = (e) => {\r\n            e.preventDefault();\r\n            \r\n            values.subc = arrayOfSubs;\r\n            values.category = selectedCategory ? selectedCategory : values.category;\r\n\r\n            updateProduct(slug, values, user.token)\r\n            .then((res) => {\r\n                setLoading(false);\r\n                toast.success(`\"${res.data.title}\" is updated`);\r\n                history.push(\"/admin/products\");\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setLoading(false);\r\n                toast.error(err.response.data.err);\r\n            });\r\n        };\r\n\r\n        const handleChange = (e) => {\r\n            setValues({ ...values, [e.target.name]: e.target.value });\r\n            // console.log(e.target.name, \" ----- \", e.target.value);\r\n        };\r\n        \r\n        const loadCategories = () =>\r\n            getCategories().then((c) => {\r\n                // console.log(\"SET Categories>>>>>\", c.data)\r\n                setCategories(c.data);\r\n            });\r\n\r\n\r\n        const handleCategoryChange = (e) => {\r\n            e.preventDefault();\r\n            // console.log(\"CLICKED CATEGORY PRODUCT UPDATE>>>\", e.target.value)\r\n            setValues({ ...values, subc : []});\r\n            setSelectedCategory( e.target.value )\r\n            getCategorySub(e.target.value)\r\n            .then((res) => {\r\n                // console.log(\"SUB CATEGORY options>>>\", res)\r\n                setSubOptions(res.data);\r\n            })\r\n            // console.log(\"EXISITING CATEGORY>>>\", values.category)\r\n              // if user clicks back to the original category\r\n                // show its sub categories in default\r\n            if ( values.category._id === e.target.value){\r\n                loadProduct()\r\n            }\r\n            setArrayOfSubs([])\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-2\">\r\n                        <AdminNav />\r\n                    </div>\r\n        \r\n                    <div className=\"col-md-10\">\r\n                        {loading ? (\r\n                        <LoadingOutlined className=\"text-danger h1\" />\r\n                        ) : (\r\n                            <h4>Product update</h4>\r\n                        )}\r\n                                  {/* {JSON.stringify(values)} */}\r\n\r\n                        <hr />\r\n                        <div className=\"p-3\">\r\n                            <FileUpload\r\n                            values={values}\r\n                            setValues={setValues}\r\n                            setLoading={setLoading}\r\n                            />\r\n                        </div>\r\n                        {/* {JSON.stringify(values)} */}\r\n                        <ProductUpdateForm \r\n                            handleSubmit = {handleSubmit}\r\n                            handleChange = {handleChange}\r\n                            values = {values}\r\n                            setValues = {setValues}\r\n                            handleCategoryChange = {handleCategoryChange}\r\n                            categories = {categories}\r\n                            subOptions={subOptions}\r\n                            arrayOfSubs={arrayOfSubs}\r\n                            setArrayOfSubs={setArrayOfSubs}\r\n                            selectedCategory = {selectedCategory}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n    \r\n\r\nexport default ProductUpdate;\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProductListItems = ({ product }) => {\r\n  const {\r\n    price,\r\n    category,\r\n    subc,\r\n    shipping,\r\n    color,\r\n    brand,\r\n    quantity,\r\n    sold,\r\n} = product;\r\n\r\n    return (\r\n        <ul className=\"list-group\">\r\n            <li className=\"list-group-item\">\r\n                Price{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    $ {price}\r\n                </span>\r\n            </li>\r\n\r\n            {category && (\r\n                <li className=\"list-group-item\">\r\n                Category{\" \"}\r\n                <Link\r\n                    to={`/category/${category.slug}`}\r\n                    className=\"label label-default label-pill pull-xs-right\"\r\n                >\r\n                    {category.name}\r\n                </Link>\r\n                </li>\r\n            )}\r\n\r\n            {subc && (\r\n                <li className=\"list-group-item\">\r\n                Sub Categories\r\n                {subc.map((s) => (\r\n                    <Link\r\n                        key={s._id}\r\n                        to={`/sub/${s.slug}`}\r\n                        className=\"label label-default label-pill pull-xs-right\"\r\n                    >\r\n                        {s.name}\r\n                    </Link>\r\n                ))}\r\n                </li>\r\n            )}\r\n\r\n            <li className=\"list-group-item\">\r\n                Shipping{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    {shipping}\r\n                </span>\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n                Color{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    {color}\r\n                </span>\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n                Brand{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    {brand}\r\n                </span>\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n                Available{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    {quantity}\r\n                </span>\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n                Sold{\" \"}\r\n                <span className=\"label label-default label-pill pull-xs-right\">\r\n                    {sold}\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default ProductListItems;\r\n","import React, { useState } from \"react\";\r\nimport { Modal } from \"antd\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { StarOutlined } from \"@ant-design/icons\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\n \r\nconst RatingModal = ({ children }) =>{\r\n    // user state\r\n    const { user } = useSelector((state) => ({...state}))\r\n\r\n    const [ modalVisible, setModalVisible ] = useState(false)\r\n\r\n    let history = useHistory();\r\n    let { slug } = useParams()\r\n    // console.log(\"slug\",  slug)\r\n\r\n    const handleModalRating = () =>{\r\n        if (user && user.token){\r\n            setModalVisible(true)\r\n        } \r\n        else{\r\n            history.push({\r\n                pathname: \"/login\",\r\n                state:{ from : `/product/${slug}`}\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div onClick={handleModalRating}>\r\n                <StarOutlined className=\"text-danger\" /> <br />{\" \"}\r\n                    {user ? \"Leave rating\" : \"Login to leave rating\"}\r\n            </div>\r\n            <Modal\r\n                title=\"Leave your rating\"\r\n                centered\r\n                visible={modalVisible}\r\n                onOk={() => {\r\n                setModalVisible(false);\r\n                toast.success(\"Thanks for your review.\");\r\n                }}\r\n                onCancel={() => setModalVisible(false)}\r\n            >\r\n                {children}\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n \r\nexport default RatingModal\r\n\r\n\r\n// import React, { useState } from \"react\";\r\n// import { Modal, Button } from \"antd\";\r\n// import { toast } from \"react-toastify\";\r\n// import { useSelector } from \"react-redux\";\r\n// import { StarOutlined } from \"@ant-design/icons\";\r\n// import { useHistory, useParams } from \"react-router-dom\";\r\n\r\n// const RatingModal = ({ children }) => {\r\n//   const { user } = useSelector((state) => ({ ...state }));\r\n//   const [modalVisible, setModalVisible] = useState(false);\r\n\r\n//   let history = useHistory();\r\n//   let { slug } = useParams();\r\n\r\n//   const handleModal = () => {\r\n//     if (user && user.token) {\r\n//       setModalVisible(true);\r\n//     } else {\r\n//       history.push({\r\n//         pathname: \"/login\",\r\n//         state: { from: `/product/${slug}` },\r\n//       });\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <div onClick={handleModal}>\r\n//         <StarOutlined className=\"text-danger\" /> <br />{\" \"}\r\n//         {user ? \"Leave rating\" : \"Login to leave rating\"}\r\n//       </div>\r\n//       <Modal\r\n//         title=\"Leave your rating\"\r\n//         centered\r\n//         visible={modalVisible}\r\n//         onOk={() => {\r\n//           setModalVisible(false);\r\n//           toast.success(\"Thanks for your review. It will apper soon\");\r\n//         }}\r\n//         onCancel={() => setModalVisible(false)}\r\n//       >\r\n//         {children}\r\n//       </Modal>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default RatingModal;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState} from \"react\";\r\nimport { Card, Tabs, Tooltip } from \"antd\";\r\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport ProductListItems from './viewproduct'\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport StarRatings from 'react-star-ratings';\r\nimport RatingModal from '../modal/rating'\r\nimport { RatingAvg } from \"../../function/rating\"\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { addToWishlist } from \"../../function/user\"\r\nimport _ from \"lodash\"\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n// child component\r\nconst SingleProduct = ({ product, onStartClick, star }) => {\r\n    const { title, images, description, _id } = product;\r\n\r\n    const { user } = useSelector((state) => ({...state}))\r\n\r\n    const  dispatch  = useDispatch()\r\n    \r\n\r\n    const [tooltip, setTooltip] = useState(\"Click to add\");\r\n\r\n    let history = useHistory();\r\n\r\n    const handleWishlistAdd = (e) => {\r\n        e.preventDefault();\r\n        addToWishlist(product._id, user.token)\r\n            .then((res) =>{\r\n                console.log(\"addtoWishlist>>>>\", res.data)\r\n                toast.success(\"Added to wishlist\");\r\n                history.push(\"/user/wishlist\");\r\n            })\r\n    }\r\n\r\n    const handleCart = () => {\r\n\r\n        let cart = []\r\n        if(typeof windows !== undefined) {\r\n            // if there is a cart in local storage we will GET it \r\n            if(localStorage.getItem(\"cart\")){\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n            }\r\n            // push new item to cart array\r\n            cart.push({\r\n                ...product,\r\n                count:1,\r\n            });\r\n            // we are removiing duplicates with loadash \r\n            let unique = _.uniqWith(cart, _.isEqual)\r\n            // console.log(\"unique------>\", unique)\r\n            // i m saving data in local storage in json format\r\n            localStorage.setItem(\"cart\", JSON.stringify(unique))\r\n            setTooltip(\"Added\");\r\n\r\n            // ading product to cart using state\r\n            dispatch({\r\n                type:\" ADD_TO_CART\",\r\n                payload: cart \r\n            })\r\n            dispatch({\r\n                type: \"CART_SIDE_VIEW\",\r\n                payload: true,\r\n            });\r\n            \r\n        }\r\n    }\r\n    return (\r\n        <>\r\n        <div className=\"col-md-7 bg-light\">\r\n            <Carousel showArrows={true} autoPlay infiniteLoop>\r\n                {images && images.map((i)=> <img src = {i.url} key = {i.public_id} alt = {i.title}/>)}\r\n            </Carousel>\r\n            <Tabs type=\"card\">\r\n                <TabPane tab=\"Description\" key=\"1\">\r\n                        {description && description}\r\n                </TabPane>\r\n                <TabPane tab=\"More\" key=\"2\">\r\n                        Call use on xxxx xxx xxx to learn more about this product.\r\n                </TabPane>\r\n            </Tabs>\r\n        </div>\r\n\r\n        <div className=\"col-md-5\">\r\n            <h2 className=\"bg-info p-3\">{title}</h2>\r\n            {product && product.ratings && product.ratings.length > 0 ? RatingAvg(product)  : \r\n                <div className=\"text-center pt-1 pb-3\">\r\n                        NO RATING YET\r\n                </div> \r\n            }\r\n\r\n            <Card\r\n                actions={[\r\n                    <Tooltip title={tooltip}>\r\n                        <a onClick={handleCart}>\r\n                            <ShoppingCartOutlined className=\"text-danger\" /> <br /> Add to\r\n                            Cart\r\n                        </a>\r\n                    </Tooltip>,\r\n\r\n                    <a onClick = {handleWishlistAdd}>\r\n                        <HeartOutlined className=\"text-info\" /> <br /> Add to Wishlist\r\n                    </a>,\r\n\r\n                    <RatingModal>\r\n                        <StarRatings\r\n                            name ={_id}\r\n                            starRatedColor=\"yellow\"\r\n                            numberOfStars={5}\r\n                            isSelectable = {true}\r\n                            rating = {star}\r\n                            changeRating = {onStartClick}\r\n\r\n                        />\r\n                    </RatingModal>\r\n                ]}\r\n                >\r\n                <ProductListItems product={product} />\r\n            </Card>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SingleProduct;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect} from 'react'\r\nimport { getProduct, productStar, getRelatedProduct } from '../function/product'\r\nimport  SingleProduct  from \"../components/card/singleProduct\"\r\nimport { useSelector } from 'react-redux'\r\nimport ProductCard from \"../components/card/ProductCard\"\r\n\r\nconst ProductView = ({match}) =>{\r\n\r\n  const { user } = useSelector((state) => ({ ...state}))\r\n\r\n  const [ product, setProduct ] = useState({})\r\n  const [related, setRelated] = useState([])\r\n  const [ star, setStar ] = useState(0)\r\n\r\n  const { slug } = match.params\r\n\r\n  useEffect(() => {\r\n      loadProductDetails()\r\n  }, [slug])\r\n\r\n  useEffect(() => {\r\n    if (product.ratings && user) {\r\n      let existingRatingObject = product.ratings.find(\r\n        (ele) => ele.postedBy.toString() === user._id.toString()\r\n      );\r\n      existingRatingObject && setStar(existingRatingObject.star); // current user's star\r\n    }\r\n  }, []);\r\n\r\n  const loadProductDetails = () => {\r\n    getProduct(slug).then((res) => {\r\n      setProduct(res.data);\r\n\r\n      // related products\r\n      getRelatedProduct(res.data._id).then((res)=>setRelated(res.data))\r\n    })\r\n\r\n  } \r\n\r\n  const onStartClick = (newrating, name) =>{\r\n    setStar(newrating)\r\n    // console.log(newrating, name)\r\n    productStar(name, newrating, user.token)\r\n    .then((res) =>{\r\n      console.log(\"rated product>>\", res.data)\r\n      loadProductDetails();\r\n    })\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\"> \r\n      <div className=\"row pt-4\">\r\n        <SingleProduct \r\n          product={product} \r\n          onStartClick = {onStartClick}\r\n          star = {star}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col text-center pt-5 pb-5\">\r\n          <hr />\r\n            <h4>Related Products</h4>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row pb-5\">\r\n        {related.length ? (\r\n          related.map((r) => (\r\n            <div key={r._id} className=\"col-md-4\">\r\n              <ProductCard product={r} />\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center col\">No Products Found</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n    \r\n}\r\n\r\nexport default ProductView","import axios from 'axios'\r\n// const url = \"http://localhost:9000/api\"\r\n\r\nexport const createCoupon = async (coupon, authtoken) =>\r\n    await axios.post(`${process.env.REACT_APP_API}/coupon`, {coupon},\r\n    {\r\n        headers: { authtoken },\r\n    })\r\n\r\n\r\nexport const getCoupons = async () => \r\n    await axios.get(`${process.env.REACT_APP_API}/coupons`)\r\n\r\n\r\nexport const removeCoupon = async (couponId, authtoken) => \r\n    await axios.delete(`${process.env.REACT_APP_API}/coupon/${couponId}`,{\r\n        headers: { authtoken, }\r\n    })\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { getCoupons, removeCoupon, createCoupon } from \"../../../function/coupon\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport AdminNav from \"../../../components/nav/adminnav\";\r\n\r\nconst CreateCouponPage = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [expiry, setExpiry] = useState(\"\");\r\n    const [discount, setDiscount] = useState(\"\");\r\n    const [loading, setLoading] = useState(\"\");\r\n    const [coupons, setCoupons] = useState([]);\r\n\r\n\r\n    // redux\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    useEffect(() => {\r\n        loadAllCoupons();\r\n      }, []);\r\n    \r\n      const loadAllCoupons = () => getCoupons().then((res) => setCoupons(res.data));\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        console.table(name, expiry, discount);\r\n        createCoupon({ name, expiry, discount }, user.token)\r\n            .then((res) => {\r\n                setLoading(false);\r\n                setName(\"\");\r\n                setDiscount(\"\");\r\n                setExpiry(\"\");\r\n                toast.success(`\"${res.data.name}\" is created`);\r\n            })\r\n            .catch((err) => console.log(\"create coupon err\", err));\r\n    };\r\n\r\n    const handleRemove = (couponId) => {\r\n        if (window.confirm(\"Delete?\")) {\r\n          setLoading(true);\r\n          removeCoupon(couponId, user.token)\r\n            .then((res) => {\r\n              loadAllCoupons(); // load all coupons\r\n              setLoading(false);\r\n              toast.error(`Coupon \"${res.data.name}\" deleted`);\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col-md-10\">\r\n                    <h4>Coupon</h4>\r\n    \r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\">Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                value={name}\r\n                                autoFocus\r\n                                required\r\n                            />\r\n                        </div>\r\n            \r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\">Discount %</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                onChange={(e) => setDiscount(e.target.value)}\r\n                                value={discount}\r\n                                required\r\n                            />\r\n                        </div>\r\n            \r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\">Expiry</label>\r\n                            <br />\r\n                            <DatePicker\r\n                                className=\"form-control\"\r\n                                selected={new Date()}\r\n                                value={expiry}\r\n                                onChange={(date) => setExpiry(date)}\r\n                                required\r\n                            />\r\n                        </div>\r\n            \r\n                        <button className=\"btn btn-outline-primary\">Save</button>\r\n                    </form>\r\n                    <h4>{coupons.length} Coupons</h4>\r\n\r\n                    <table className=\"table table-bordered\">\r\n                        <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th scope=\"col\">Name</th>\r\n                            <th scope=\"col\">Expiry</th>\r\n                            <th scope=\"col\">Discount</th>\r\n                            <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                        {coupons.map((c) => (\r\n                            <tr key={c._id}>\r\n                            <td>{c.name}</td>\r\n                            <td>{new Date(c.expiry).toLocaleDateString()}</td>\r\n                            <td>{c.discount}%</td>\r\n                            <td>\r\n                                <DeleteOutlined\r\n                                onClick={() => handleRemove(c._id)}\r\n                                className=\"text-danger pointer\"\r\n                                />\r\n                            </td>\r\n                            </tr>\r\n                        ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n  \r\n  export default CreateCouponPage;\r\n  \r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { getProductsByCount, getSearchProducts } from \"../function/product\";\r\nimport { getCategories } from \"../function/category\";\r\nimport { getSubCategories } from \"../function/subcategory\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ProductCard from \"../components/card/ProductCard\";\r\nimport { Menu, Slider, Checkbox, Radio } from \"antd\";\r\nimport { DownSquareOutlined } from \"@ant-design/icons\";\r\nimport Footer from \"../components/footer\"\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Shop = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [price, setPrice] = useState([0, 0]);\r\n    const [ok, setOk] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [categoryIds, setCategoryIds] = useState([]);\r\n    const [subs, setSubs] = useState([]);\r\n    const [sub, setSub] = useState(\"\");\r\n    const [brands, setBrands] = useState([\r\n        \"Police\", \"4711\", \"PlayBoy\", \"Estle\", \"Swiss Image\", \"Plum\", \"Deborah Milano\", \"Ajmal\", \"Guess\"\r\n    ]);\r\n    const [brand, setBrand] = useState(\"\");\r\n    const [colors, setColors] = useState([\r\n        \"Black\",\r\n        \"Brown\",\r\n        \"Silver\",\r\n        \"White\",\r\n        \"Blue\",\r\n        \"gold\",\r\n        \"blue\"\r\n    ]);\r\n    const [color, setColor] = useState(\"\");\r\n    const [shipping, setShipping] = useState(\"\");\r\n\r\n    let dispatch = useDispatch();\r\n    let { search } = useSelector((state) => ({ ...state }));\r\n    const { text } = search;\r\n\r\n    useEffect(() => {\r\n        loadAllProducts();\r\n        // fetch categories\r\n        getCategories().then((res) => setCategories(res.data));\r\n        // fetch subcategories\r\n        getSubCategories().then((res) => setSubs(res.data));\r\n    }, []);\r\n\r\n    const fetchProducts = (arg) => {\r\n        getSearchProducts(arg).then((res) => {\r\n            setProducts(res.data);\r\n            // console.log(\"FETCH PRODUCT------->\",products)\r\n    });\r\n};\r\n\r\n  // 1. load products by default on page load\r\n    const loadAllProducts = () => {\r\n        getProductsByCount(20).then((p) => {\r\n        setProducts(p.data);\r\n        // console.log(\"all products--------->\",p.data)\r\n        setLoading(false);\r\n        });\r\n    };\r\n\r\n  // 2. load products on user search input\r\n    useEffect(() => {\r\n        const delayed = setTimeout(() => {\r\n        fetchProducts({ query: text });\r\n        if (!text) {\r\n            loadAllProducts();\r\n        }\r\n        }, 300);\r\n        return () => clearTimeout(delayed);\r\n        \r\n    }, [text]);\r\n\r\n  // 3. load products based on price range\r\n    useEffect(() => {\r\n        console.log(\"ok to request\", products);\r\n        fetchProducts({ price });\r\n    }, [ok]);\r\n\r\n    const handleSlider = (value) => {\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" },\r\n        });\r\n\r\n    // reset\r\n    setCategoryIds([]);\r\n    setPrice(value);\r\n    setSub(\"\");\r\n    setBrand(\"\");\r\n    setColor(\"\");\r\n    setShipping(\"\");\r\n    setTimeout(() => {\r\n    setOk(!ok);\r\n    }, 300);\r\n  };\r\n\r\n  // show categories in a list of checkbox\r\n  const showCategories = () =>\r\n    categories.map((c) => (\r\n      <div key={c._id}>\r\n        <Checkbox\r\n          onChange={handleCheck}\r\n          className=\"pb-2 pl-4 pr-4\"\r\n          value={c._id}\r\n          name=\"category\"\r\n          checked={categoryIds.includes(c._id)}\r\n        >\r\n          {c.name}\r\n        </Checkbox>\r\n        <br />\r\n      </div>\r\n    ));\r\n\r\n  // handle check for categories\r\n  const handleCheck = (e) => {\r\n    // reset\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" },\r\n        });\r\n        setPrice([0, 0]);\r\n        setSub(\"\");\r\n        setBrand(\"\");\r\n        setColor(\"\");\r\n        // console.log(\"cate------>\",e.target.value);\r\n        let inTheState = [...categoryIds];\r\n        let justChecked = e.target.value;\r\n        let foundInTheState = inTheState.indexOf(justChecked); // index or -1\r\n\r\n        // indexOf method ?? if not found returns -1 else return index [1,2,3,4,5]\r\n        if (foundInTheState === -1) {\r\n            inTheState.push(justChecked);\r\n        } else {\r\n        // if found pull out one item from index\r\n            inTheState.splice(foundInTheState, 1);\r\n        }\r\n\r\n        setCategoryIds(inTheState);\r\n        // console.log(inTheState);\r\n        fetchProducts({ category: inTheState });\r\n    };\r\n\r\n\r\n\r\n  // 6. show products by sub category\r\n    const showSubs = () =>\r\n        subs.map((s) => (\r\n            <div\r\n                key={s._id}\r\n                onClick={() => handleSub(s)}\r\n                className=\"p-1 m-1 badge badge-secondary\"\r\n                style={{ cursor: \"pointer\" }}\r\n            >\r\n                {s.name}\r\n            </div>\r\n    ));\r\n\r\n    const handleSub = (sub) => {\r\n        // console.log(\"SUB\", sub);\r\n            setSub(sub);\r\n            dispatch({\r\n                type: \"SEARCH_QUERY\",\r\n                payload: { text: \"\" },\r\n            });\r\n            setPrice([0, 0]);\r\n            setCategoryIds([]);\r\n            setBrand(\"\");\r\n            setColor(\"\");\r\n            fetchProducts({ sub });\r\n    };\r\n\r\n  // 7. show products based on brand name\r\n    const showBrands = () =>\r\n        brands.map((b) => (\r\n        <Radio\r\n            key = {b}\r\n            value={b}\r\n            name={b}\r\n            checked={b === brand}\r\n            onChange={handleBrand}\r\n            className=\"pb-1 pl-4 pr-4\"\r\n        >\r\n            {b}\r\n        </Radio>\r\n    ));\r\n\r\n    const handleBrand = (e) => {\r\n        setSub(\"\");\r\n        dispatch({\r\n        type: \"SEARCH_QUERY\",\r\n        payload: { text: \"\" },\r\n        });\r\n        setPrice([0, 0]);\r\n        setCategoryIds([]);\r\n        setColor(\"\");\r\n        setBrand(e.target.value);\r\n        fetchProducts({ brand: e.target.value });\r\n    };\r\n\r\n  // 8. show products based on color\r\n    const showColors = () =>\r\n        colors.map((c) => (\r\n        <Radio\r\n            key = {c}\r\n            value={c}\r\n            name={c}\r\n            checked={c === color}\r\n            onChange={handleColor}\r\n            className=\"pb-1 pl-4 pr-4\"\r\n        >\r\n        {c}\r\n        </Radio>\r\n    ));\r\n\r\n    const handleColor = (e) => {\r\n        setSub(\"\");\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" },\r\n        });\r\n        setPrice([0, 0]);\r\n        setCategoryIds([]);\r\n        setBrand(\"\");\r\n        setColor(e.target.value);\r\n        fetchProducts({ color: e.target.value });\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                    <div className=\"col-md-3 pt-2\">\r\n                        <h4>Search/Filter</h4>\r\n                    <hr />\r\n\r\n                    <Menu\r\n                        defaultOpenKeys={[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"]}\r\n                        mode=\"inline\"\r\n                    >\r\n                    {/* price */}\r\n                    <SubMenu\r\n                        key=\"1\"\r\n                        title={\r\n                            <span className=\"h6\">\r\n                                &#8377; Price\r\n                            </span>\r\n                        }\r\n                    >\r\n                        <div>\r\n                            <Slider\r\n                                className=\"ml-4 mr-4\"\r\n                                tipFormatter={(v) => `Rs-${v}`}\r\n                                range\r\n                                value={price}\r\n                                onChange={handleSlider}\r\n                                max=\"10000\"\r\n                            />\r\n                        </div>\r\n                    </SubMenu> \r\n\r\n                    {/* category */}\r\n                    <SubMenu\r\n                            key=\"2\"\r\n                            title={\r\n                                <span className=\"h6\">\r\n                                <DownSquareOutlined /> Categories\r\n                                </span>\r\n                            }\r\n                        >\r\n                        <div style={{ maringTop: \"-10px\" }}>{showCategories()}</div>\r\n                    </SubMenu>\r\n\r\n\r\n                    {/* sub category */}\r\n                    <SubMenu\r\n                        key=\"4\"\r\n                        title={\r\n                            <span className=\"h6\">\r\n                            <DownSquareOutlined /> Sub Categories\r\n                            </span>\r\n                        }\r\n                        >\r\n                        <div style={{ maringTop: \"-10px\" }} className=\"pl-4 pr-4\">\r\n                            {showSubs()}\r\n                        </div>\r\n                    </SubMenu>\r\n\r\n                    {/* brands */}\r\n                    <SubMenu\r\n                        key=\"5\"\r\n                        title={\r\n                            <span className=\"h6\">\r\n                                <DownSquareOutlined /> Brands\r\n                            </span>\r\n                        }\r\n                        >\r\n                        <div style={{ maringTop: \"-10px\" }} className=\"pr-5\">\r\n                            {showBrands()}\r\n                        </div>\r\n                    </SubMenu>\r\n\r\n                    {/* colors */}\r\n                    <SubMenu\r\n                        key=\"6\"\r\n                        title={\r\n                            <span className=\"h6\">\r\n                                <DownSquareOutlined /> Colors\r\n                            </span>\r\n                        }\r\n                        >\r\n                        <div style={{ maringTop: \"-10px\" }} className=\"pr-5\">\r\n                            {showColors()}\r\n                        </div>\r\n                    </SubMenu>\r\n\r\n                </Menu>\r\n                </div>\r\n                <div className=\"col-md-9 pt-2\">\r\n                    {loading ? (\r\n                        <h4 className=\"text-danger\">Loading...</h4>\r\n                    ) : (\r\n                        <h4 className=\"text-danger\">Products</h4>\r\n                    )}\r\n\r\n                    { products.length < 1 && <p>No products found</p> }\r\n\r\n                    <div className=\"row pb-5\">\r\n                        {products.map((p) => (\r\n                        <div key={p._id} className=\"col-md-4 mt-3\">\r\n                            <ProductCard product={p} />\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Footer />\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default Shop;\r\n\r\n","/* eslint-disable array-callback-return */\r\nimport React from \"react\";\r\nimport ModalImage from \"react-modal-image\";\r\nimport { useDispatch} from \"react-redux\"\r\nimport { toast } from \"react-toastify\";\r\nimport {CheckCircleOutlined, CloseCircleOutlined, CloseOutlined } from \"@ant-design/icons\";\r\n\r\nconst DisplayCartProducts = ({ p }) => {\r\n\r\n    const colors = [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"]\r\n    let dispatch = useDispatch()\r\n\r\n    const handleColor = (e) => {\r\n        let cart = []\r\n        if(typeof window !== \"undefined\"){\r\n            if(localStorage.getItem(\"cart\")){\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n            }\r\n            cart.map((product, i) => {\r\n                if(product._id === p._id){\r\n                    cart[i].color = e.target.value\r\n                }\r\n            })\r\n            \r\n        // console.log('cart udpate color', cart)\r\n\r\n            localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: cart\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleCountChange = (e) => {\r\n\r\n        let count = e.target.value < 1 ? 1 : e.target.value;\r\n\r\n        if (count > p.quantity) {\r\n            toast.error(`Max available quantity: ${p.quantity}`);\r\n            return;\r\n        }\r\n\r\n        let cart = []\r\n        if ( typeof window !==\"undefined\"){\r\n            if(localStorage.getItem(\"cart\")){\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n            }\r\n            cart.map((product, i) => {\r\n                if(product._id === p._id){\r\n                    cart[i].count =count\r\n                }\r\n            })\r\n                    console.log('cart udpate color', cart)\r\n\r\n            localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: cart\r\n            })\r\n        }\r\n    }\r\n    const handleRemove = () => {\r\n        console.log(p._id, \"to remove\");\r\n\r\n        let cart = []\r\n        if( typeof window !== \"undefined\"){\r\n            if(localStorage.getItem(\"cart\")){\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n            }\r\n            cart.map((product, i)=>{\r\n                if(product._id === p._id){\r\n                    cart.splice(i, 1)\r\n                }\r\n            })\r\n            localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: cart\r\n            })\r\n            dispatch({\r\n                type: \"CART_SIDE_VIEW\",\r\n                payload: true,\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <tbody>\r\n            <tr>\r\n                <div style = {{height:\"auto\", width:\"100px\"}}>\r\n                    <td>\r\n                        {p.images.length ? (\r\n                            <ModalImage small={p.images[0].url}\r\n                            large={p.images[0].url} />): \" No Image\"}\r\n                    </td>\r\n                </div>\r\n                \r\n                <td className=\"text-center\">{p.title}</td>\r\n                <td className=\"text-center\">{p.brand}</td>\r\n                <td className=\"text-center\">\r\n                    <select \r\n                        className=\"form-control\"\r\n                        onChange={handleColor}\r\n                        name=\"color\"\r\n                    >\r\n                        {p.color ? (\r\n                            <option value={p.color}>{p.color}</option>) : (\r\n                            <option>Select</option>\r\n                        )}\r\n                            {colors.filter((c) => c !== p.color)\r\n                            .map((c) =>(\r\n                                <option value={c} key={c}>{c}</option>\r\n                        ))}\r\n                            \r\n                        </select>\r\n                </td>\r\n\r\n                <td className=\"text-center\">\r\n                    <input \r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        value = {p.count}\r\n                        onChange={handleCountChange}\r\n                    />\r\n                </td>\r\n\r\n                <td className=\"text-center\">\r\n                    {p.shipping === \"Yes\" ? (\r\n                        <CheckCircleOutlined className=\"text-success\" />\r\n                    ) : (\r\n                        <CloseCircleOutlined className=\"text-danger\" />\r\n                    )}\r\n                </td>\r\n                <td className=\"text-center\">Rs.{p.price}</td>\r\n\r\n                <td className=\"text-center\">\r\n                <CloseOutlined\r\n                    onClick={handleRemove}\r\n                    className=\"text-danger pointer\"\r\n                />\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    );\r\n};\r\n\r\nexport default DisplayCartProducts\r\n\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DisplayCartProducts from \"../components/card/displaycartItems\"\r\nimport { userCart } from '../function/user'\r\n\r\n\r\nconst Cart = ({ history}) => {\r\n    const { cart, user } = useSelector((state) => ({ ...state }));\r\n    // const dispatch = useDispatch();\r\n\r\n    const getTotal = () =>{\r\n        return cart.reduce((currentValue, nextValue) =>{\r\n            return currentValue + nextValue.count * nextValue.price\r\n        }, 0)\r\n    }\r\n\r\n\r\n    const saveOrderToDb = () => {\r\n        // console.log(\"CART\", JSON.stringify(cart, null, 4))\r\n        userCart(cart, user.token).then((res) =>{\r\n            console.log(\"CART POST RES---------->\", res);\r\n            if ( res.data.ok)  history.push('/checkout')\r\n        }) \r\n        .catch((err) => console.log(\"cart save err\", err))\r\n    };\r\n\r\n    const displayCartItems = () => (\r\n        <table className=\"table table-bordered table-hover \">\r\n            <thead className = \"table-secondary text-danger\">\r\n                <tr>\r\n                    <th scope=\"col\">Image</th>\r\n                    <th scope=\"col\">Title</th>\r\n                    <th scope=\"col\">Brand</th>\r\n                    <th scope=\"col\">Color</th>\r\n                    <th scope=\"col\">Count</th>\r\n                    <th scope=\"col\">Shipping</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Remove</th>\r\n                </tr>\r\n            </thead>\r\n            {cart.map((p)=>(\r\n                <DisplayCartProducts key={p.id} p = {p} />\r\n            ))}\r\n        </table>\r\n    )\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                    <h4>Cart/{cart.length}</h4>\r\n                    {!cart.length ? (\r\n                        <p>\r\n                            No Products in cart. Click Here for <Link to=\"/shop\"> Shopping</Link>\r\n                        </p>) :(\r\n                            displayCartItems()\r\n                        )}\r\n                </div>\r\n\r\n\r\n                <div className=\"col-md-4\">\r\n                    <h3>OrderSummary</h3>\r\n                    <hr />\r\n                    <p>Products</p>\r\n                    <hr />\r\n                    {cart.map((c, i) =>  (\r\n                        <div key = { i }>\r\n                            <p>{c.title} x {c.count} = Rs.{c.price * c.count}</p>\r\n                        </div>)\r\n                    )}\r\n                    <hr />\r\n                    Total: <b>Rs.{getTotal()}</b>\r\n                    <hr />\r\n                    { user ? (\r\n                        <button \r\n                            className=\"btn btn-sm btn-primary mt-2\"\r\n                            disabled={ !cart.length }\r\n                            onClick={saveOrderToDb}\r\n                        >\r\n                            Proceed to CheckOut\r\n                        </button>\r\n                    ) :(\r\n                        <button className=\"btn btn-sm btn-primary mt-2\">\r\n                            <Link\r\n                                to = {{\r\n                                    pathname : '/login',\r\n                                    state : { from: 'cart'}\r\n                                }}\r\n                            >\r\n                                Login to Checkout\r\n                            </Link>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { Drawer } from \"antd\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SideDrawer = ({ children }) => {\r\n    const dispatch = useDispatch();\r\n    const { sideDraw, cart } = useSelector((state) => ({ ...state }));\r\n\r\n    const imageStyle = {\r\n        width: \"100%\",\r\n        height: \"50px\",\r\n        objectFit: \"cover\",\r\n    };\r\n\r\n    return <Drawer \r\n                className=\"text-center\"\r\n                visible={sideDraw} \r\n                title={`CART / ${cart.length} Products `}\r\n                closable = {false}\r\n                onClose={() => {\r\n                    dispatch({\r\n                    type: \"CART_SIDE_VIEW\",\r\n                    payload: false,\r\n                    });\r\n                }}\r\n            >\r\n                {cart.map((p)=>(\r\n                    <div key={p._id} className=\"row\">\r\n                        <div className=\"col\">\r\n                            {p.images[0] ? (<>\r\n                                <img src={p.images[0].url} style={imageStyle} alt={p.title} />\r\n                                <p className=\"text-center bg-secondary text-light\">\r\n                                    {p.title} x {p.count}\r\n                                </p>\r\n                            </>) : (\r\n                                <>\r\n                                    <h6>No Image sorry</h6>\r\n                                    <p className=\"text-center bg-secondary text-light\">\r\n                                        {p.title} x {p.count}\r\n                                    </p>\r\n                                </>\r\n                            )}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n                <Link to=\"/cart\">\r\n                    <button\r\n                        onClick={() =>\r\n                            dispatch({\r\n                            type: \"SET_VISIBLE\",\r\n                            payload: false,\r\n                            })\r\n                        }\r\n                        className=\"text-center btn btn-primary btn-raised btn-block\"\r\n                        >\r\n                            Go To Cart\r\n                    </button>\r\n                </Link>\r\n            </Drawer>;\r\n};\r\n\r\nexport default SideDrawer;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React,{ useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getUserCart, emptyCart, userAddress, applyCoupon } from '../function/user'\r\nimport { toast } from \"react-toastify\"\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\n\r\nconst Checkout = ({ history }) => {\r\n\r\n    const [ total, setTotal] = useState(0)\r\n    const [ products, setProducts] = useState([])\r\n    const [address, setAddress] = useState(\"\");\r\n    const [addressSaved, setAddressSaved] = useState(false);\r\n    const [coupon, setCoupon] = useState(\"\");\r\n    const [totalAfterDiscount, setTotalAfterDiscount] = useState(\"\");\r\n    const [discountError, setDiscountError] = useState(\"\"); \r\n\r\n\r\n    const { user } = useSelector((state) => ({ ...state}))\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        getUserCart(user.token)\r\n        .then((res) =>{\r\n            // console.log(\"cart \", JSON.stringify(res.data, null, 4))\r\n            setProducts(res.data.products)\r\n            setTotal(res.data.cartTotal)\r\n\r\n        })\r\n    }, [])\r\n\r\n\r\n    const saveAddressToDb = () => {\r\n        userAddress(user.token, address).then((res) => {\r\n            if (res.data.ok) {\r\n                setAddressSaved(true);\r\n                toast.success(\"Address saved\");\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleEmptyCart = () =>{\r\n        if ( typeof window !== 'undefined'){\r\n            localStorage.removeItem(\"cart\")\r\n        }\r\n\r\n        dispatch({\r\n            type: \"ADD_TO_CART\",\r\n            payload: []\r\n        })\r\n        emptyCart(user.token).then((res) =>{\r\n            setProducts([])\r\n            setTotal(0)\r\n            setTotalAfterDiscount(0);\r\n            setCoupon(\"\");\r\n            toast.success(\"Cart is emapty. Contniue shopping.\");\r\n        })\r\n    }\r\n\r\n    const applyDiscountCoupon = () => {\r\n        console.log(\"send coupon to backend\", coupon);\r\n        applyCoupon(user.token, coupon).then((res) => {\r\n            console.log(\"RES ON COUPON APPLIED\", res.data);\r\n            if (res.data) {\r\n                setTotalAfterDiscount(res.data);\r\n                // update redux coupon applied true/false\r\n                dispatch({\r\n                    type: \"COUPON_APPLIED\",\r\n                    payload: true,\r\n                });\r\n            }\r\n          // error\r\n            if (res.data.err) {\r\n                setDiscountError(res.data.err);\r\n                // update redux coupon applied true/false\r\n                dispatch({\r\n                    type: \"COUPON_APPLIED\",\r\n                    payload: false,\r\n                });\r\n            }\r\n        });\r\n    };;\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n                <h4>Delivery Address</h4>\r\n                <br />\r\n                <br />\r\n                <ReactQuill theme=\"snow\" value={address} onChange={setAddress} />\r\n                <button className=\"btn btn-primary mt-2\" onClick={saveAddressToDb}>\r\n                    Save\r\n                </button>\r\n                <hr />\r\n                <h4>Enter your CouponId</h4>\r\n                <>\r\n                    <input\r\n                        onChange={(e) => {\r\n                            setCoupon(e.target.value)           \r\n                            setDiscountError(\"\");\r\n                        }}\r\n                        value={coupon}\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                    />\r\n                    <button onClick={applyDiscountCoupon} className=\"btn btn-primary mt-2\">\r\n                        Apply\r\n                    </button>\r\n                    </>\r\n                <br />\r\n                <br />\r\n                {discountError && <p className=\"bg-danger p-2\">{discountError}</p>}\r\n            </div>\r\n\r\n            <div className=\"col-md-6\">\r\n                <h4>Your Order Summary</h4>\r\n                <hr />\r\n                <p>Products {products.length}</p>\r\n                <hr />\r\n                {products.map((p, i) => (\r\n                    <div key={i}>\r\n                        <p>\r\n                        {p.product.title} ({p.color}) x {p.count} ={\" \"}\r\n                        {p.product.price * p.count}\r\n                        </p>\r\n                    </div>\r\n                ))}\r\n                <hr />\r\n                <p> <b>Your Cart Total: {total}</b></p>\r\n                {totalAfterDiscount > 0 && (\r\n                    <p className=\"bg-success p-2\">\r\n                        Discount Applied: Total Payable: ${totalAfterDiscount}\r\n                    </p>\r\n                )}\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <button className=\"btn btn-primary\" onClick={()=> history.push('/placeorder')}>\r\n                            Place Order\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                        <button \r\n                            className=\"btn btn-primary\"\r\n                            onClick={handleEmptyCart}\r\n                            disabled={!products.length}\r\n                        >Empty/Clear Cart</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { createPaymentIntent } from \"../function/stripe\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card } from \"antd\";\r\nimport { CheckOutlined } from \"@ant-design/icons\";\r\nimport { createOrder, emptyCart } from '../function/user'\r\n\r\n\r\nconst StripeCheckout = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user, coupon } = useSelector((state) => ({ ...state }));\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n\r\n  const [cartTotal, setCartTotal] = useState(0);\r\n  const [totalAfterDiscount, setTotalAfterDiscount] = useState(0);\r\n  const [payable, setPayable] = useState(0);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  useEffect(() => {\r\n    createPaymentIntent(user.token, coupon).then((res) => {\r\n      console.log(\"create payment intent\", res.data);\r\n      setClientSecret(res.data.clientSecret);\r\n      setCartTotal(res.data.cartTotal);\r\n      setTotalAfterDiscount(res.data.totalAfterDiscount);\r\n      setPayable(res.data.payable);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe.confirmCardPayment(clientSecret, {\r\n      payment_method: {\r\n        card: elements.getElement(CardElement),\r\n        billing_details: {\r\n          name: e.target.name.value,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (payload.error) {\r\n      setError(`Payment failed ${payload.error.message}`);\r\n      setProcessing(false);\r\n    } else {\r\n      // here you get result after successful payment\r\n      // create order and save in database for admin to process\r\n\r\n      createOrder(payload, user.token).then((res) => {\r\n        if (res.data.ok) {\r\n          // empty cart from local storage\r\n          if (typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n          // empty cart from redux\r\n          dispatch({\r\n            type: \"ADD_TO_CART\",\r\n            payload: [],\r\n          });\r\n          // reset coupon to false\r\n          dispatch({\r\n            type: \"COUPON_APPLIED\",\r\n            payload: false,\r\n          });\r\n          // empty cart from database\r\n          emptyCart(user.token);\r\n        }\r\n      })\r\n      // empty user cart from redux store and local storage\r\n      console.log(JSON.stringify(payload, null, 4));\r\n      setError(null);\r\n      setProcessing(false);\r\n      setSucceeded(true);\r\n    }\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n    // listen for changes in the card element\r\n    // and display any errors as the custoemr types their card details\r\n    setDisabled(e.empty); // disable pay button if errors\r\n    setError(e.error ? e.error.message : \"\"); // show error message\r\n  };\r\n\r\n  const cartStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": {\r\n          color: \"#32325d\",\r\n        },\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!succeeded && (\r\n        <div>\r\n          {coupon && totalAfterDiscount !== undefined ? (\r\n            <p className=\"alert alert-success\">{`Total after discount: $${totalAfterDiscount}`}</p>\r\n          ) : (\r\n            <p className=\"alert alert-danger\">No coupon applied</p>\r\n          )}\r\n        </div>\r\n      )}\r\n      <div className=\"text-center pb-5\">\r\n        <Card\r\n          actions={[\r\n            <>\r\n              <i className=\"fas fa-rupee-sign text-info\"><br /> Total : \r\n              {cartTotal}\r\n              </i>\r\n            </>,\r\n            <>\r\n              <CheckOutlined className=\"text-info\" /> <br /> Total payable : &#8377;\r\n              {(payable / 100).toFixed(2)}\r\n            </>,\r\n          ]}\r\n        />\r\n      </div>\r\n\r\n\r\n      \r\n\r\n      <form id=\"payment-form\" className=\"stripe-form\" onSubmit={handleSubmit}>\r\n        <CardElement\r\n          id=\"card-element\"\r\n          options={cartStyle}\r\n          onChange={handleChange}\r\n        />\r\n        <button\r\n          className=\"stripe-button\"\r\n          disabled={processing || disabled || succeeded}\r\n        >\r\n          <span id=\"button-text\">\r\n            {processing ? <div className=\"spinner\" id=\"spinner\"></div> : \"Pay\"}\r\n          </span>\r\n        </button>\r\n        <br />\r\n        {error && (\r\n          <div className=\"card-error\" role=\"alert\">\r\n            {error}\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\r\n        Payment Successful.{\" \"}\r\n        <Link to=\"/user/history\">See it in your purchase history.</Link>\r\n      </p> \r\n    </>\r\n  );\r\n};\r\n\r\nexport default StripeCheckout;\r\n","import axios from 'axios'\r\n\r\nexport const  createPaymentIntent = (authtoken, coupon) =>\r\n    axios.post( `${process.env.REACT_APP_API}/create-payment-intent`, \r\n    {couponApplied: coupon}, \r\n    {\r\n        headers: {\r\n            authtoken,\r\n        }\r\n    }\r\n)","import React from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport StripeCheckout from \"../components/stripeCheckout\";\r\nimport \"../strip.css\";\r\nconst STRIPE_KEY = \"pk_test_51IZKZ4SBKRZHKo3pT8zJJxOXg1aljumgBVbHvILjhldZpUKaUwYqBz0Xr3ZQ3jDTKAVPCpdoLEWUTTDTZdXewWCD00CsYIDwRy\"\r\nconst PaymentPage = () => {\r\n  const promise = loadStripe(STRIPE_KEY);\r\n\r\n  return (\r\n    <div className=\"container p-5 text-center\">\r\n      <h4>Complete your purchase</h4>\r\n      <Elements stripe={promise}>\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          <StripeCheckout />\r\n        </div>\r\n      </Elements>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;\r\n\r\n ","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Login from \"./pages/auth/Login\";\nimport Register from \"./pages/auth/Register\";\nimport Home from \"./pages/Home\";\nimport Header from './components/nav/Header';\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\nimport History from \"./pages/user/History\";\nimport UserRoute from \"./components/routes/user\"\nimport AdminRoute from \"./components/routes/admin\"\n\nimport Password from \"./pages/user/password\"\nimport Wishlist from \"./pages/user/wishlist\"\nimport AdminDashboard from \"./pages/admin/adminDashboard\"\nimport CategoryCreate from \"./pages/admin/category/createcategory\"\nimport CategoryUpdate from \"./pages/admin/category/categoryUpdate\"\nimport SubCategoryCreate from \"./pages/admin/subCategory/subcategoryCreate\"\nimport SubCategoryUpdate from \"./pages/admin/subCategory/subcategoryUpdate\"\nimport ProductCreate from \"./pages/admin/product/productCreate\"\nimport AllProducts from \"./pages/admin/product/allProducts\"\nimport ProductUpdate from \"./pages/admin/product/productUpdate\"\nimport ProductView from \"./pages/product\"\n\nimport CouponPage from \"./pages/admin/coupon/coupon\"\n\nimport Shop from \"./pages/shop\"\n\nimport { auth } from './firebase';\nimport { useDispatch } from 'react-redux';\nimport {currentUser} from './function/auth'\nimport Cart from './pages/Cart'\nimport  SideDrawer  from './components/drawer/cartSide'\n\nimport Checkout from './pages/checkout'\nimport PaymentPage from './pages/palceOrder'\n\nconst App = () => {\nconst dispatch = useDispatch()\n\n// to check firebase auth state\nuseEffect(() => {\n\n  const unsubscribe = auth.onAuthStateChanged(async (user) => {\n\n    if(user) {\n      const idTokenResult = await user.getIdTokenResult()\n      // console.log(\"user\", user);\n\n      currentUser(idTokenResult.token)\n                .then((res)=>{\n                    dispatch({\n                        type: \"LOGGED_IN_USER\",\n                        payload: {\n                            name: res.data.name,\n                            email: res.data.email,\n                            token: idTokenResult.token,\n                            role: res.data.role,\n                            _id: res.data._id\n                            },\n                      });\n                })\n                .catch((err)=>{\n                  console.log(err)\n                });\n    }\n});\n  // cleanup\n  return () => unsubscribe();\n\n}, [dispatch]);\n\n  return(\n    \n    <>\n    <Header/>\n    <SideDrawer />\n    <ToastContainer/>\n    <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute exact path=\"/admin/category/:slug\" component={CategoryUpdate} />\n        <AdminRoute exact path=\"/admin/subcategory\" component={SubCategoryCreate} />\n        <AdminRoute exact path=\"/admin/subcategory/:slug\" component={SubCategoryUpdate} />\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n        <AdminRoute exact path=\"/admin/product/:slug\" component={ProductUpdate} />\n        <AdminRoute exact path=\"/admin/coupon\" component={CouponPage} />\n\n        <Route exact path=\"/product/:slug\" component={ProductView} />\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\n        <Route exact path=\"/shop\" component={Shop} />\n        <Route exact path=\"/cart\" component={Cart} />\n        <UserRoute exact path=\"/placeorder\" component={PaymentPage} />\n    </Switch>\n    </>\n\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {};\r\n\r\n// load cart items from local storage\r\nif (typeof window !== \"undefined\") {\r\n  if (localStorage.getItem(\"cart\")) {\r\n    initialState = JSON.parse(localStorage.getItem(\"cart\"));\r\n  } else {\r\n    initialState = [];\r\n  }\r\n}\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux'\r\nimport { userReducer } from \"./userReducer\";\r\nimport { SearchReducer } from \"./searchReducer\";\r\nimport { cartReducer } from \"./cartReducer\";\r\nimport { cartSideReducer } from \"./cartsideReducer\";\r\nimport { couponReducer } from \"./couponReducer\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    user: userReducer,\r\n    search: SearchReducer,\r\n    cart: cartReducer,\r\n    sideDraw: cartSideReducer,\r\n    coupon : couponReducer\r\n});\r\n\r\nexport default rootReducer;","export const userReducer = (state = null, action) =>  {\r\n\r\n    switch(action.type) {\r\n        case \"LOGGED_IN_USER\":\r\n            return action.payload;\r\n        case \"LOGOUT\":\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n}","export const SearchReducer = ( state = { text: \"\" }, action) => {\r\n\r\n    switch (action.type) {\r\n        case \"SEARCH_QUERY\":\r\n            return { ...state, ...action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","export const cartSideReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case \"CART_SIDE_VIEW\":\r\n        return action.payload;\r\n    default:\r\n        return state;\r\n    }\r\n  };","export const couponReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case \"COUPON_APPLIED\":\r\n        return action.payload;\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport 'antd/dist/antd.css';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from \"./reducers\"\n\n//store\nconst store = createStore(rootReducer, composeWithDevTools());\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n      <App />\n      </BrowserRouter>\n    </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}