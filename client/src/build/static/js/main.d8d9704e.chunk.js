(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{466:function(e,t,c){},498:function(e,t){},500:function(e,t){},542:function(e,t){},543:function(e,t){},849:function(e,t,c){},851:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(46),r=c.n(a),s=(c(466),c(12)),o=c.n(s),i=c(26),l=c(66),u=c(33),j=(c(467),c(18)),d=c(11),b=c(250);c(468);b.a.initializeApp({apiKey:"AIzaSyAE0NWeC0yx2Tuhwo8XZdH0_EBHb5q5SgA",authDomain:"luvih-76d9c.firebaseapp.com",projectId:"luvih-76d9c",storageBucket:"luvih-76d9c.appspot.com",messagingSenderId:"542838529501",appId:"1:542838529501:web:c300a8fe3e588dcf612a34"});var h=b.a.auth(),p=new b.a.auth.GoogleAuthProvider,O=c(183),m=c(865),x=c(866),f=c(21),g=c(35),v=c(36),y=c.n(v),N=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=c(2),C=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(d.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),b=Object(d.a)(l,2),v=b[0],y=b[1],w=Object(n.useState)(!1),k=Object(d.a)(w,2),C=k[0],_=k[1],E=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){t.location.state||E&&E.token&&t.push("/")}),[t,E]);var D=Object(f.b)(),P=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/user/history")},T=function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.prev=2,e.next=5,h.signInWithEmailAndPassword(r,v);case 5:return c=e.sent,n=c.user,e.next=9,n.getIdTokenResult();case 9:a=e.sent,N(a.token).then((function(e){D({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}}),P(e)})).catch((function(e){console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),u.b.error(e.t0.message),_(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.signInWithPopup(p).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,N(n.token).then((function(e){D({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:n.token,role:e.data.role,_id:e.data._id}}),P(e)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),u.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container p-5",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col-md-6 offset-md-3",children:[C?Object(S.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(S.jsx)("h4",{children:"Login"}),Object(S.jsxs)("form",{onSubmit:T,children:[Object(S.jsx)("div",{className:"form-group",children:Object(S.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Your email",autoFocus:!0})}),Object(S.jsx)("div",{className:"form-group",children:Object(S.jsx)("input",{type:"password",className:"form-control",value:v,onChange:function(e){return y(e.target.value)},placeholder:"Your password"})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.a,{onClick:T,type:"primary",className:"mb-3",block:!0,shape:"round",icon:Object(S.jsx)(m.a,{}),size:"large",disabled:!r||v.length<6,children:"Login with Email/Password"})]}),Object(S.jsx)(O.a,{onClick:I,type:"danger",className:"mb-3",block:!0,shape:"round",icon:Object(S.jsx)(x.a,{}),size:"large",children:"Login with Google"}),Object(S.jsx)(g.b,{to:"/forgot/password",className:"float-right text-danger",children:"Forgot Password"})]})})})},_=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(d.a)(c,2),r=a[0],s=a[1],l=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){l&&l.token&&t.push("/")}),[t,l]);var b=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"http://localhost:3000/register/complete",handleCodeInApp:!0},e.next=4,h.sendSignInLinkToEmail(r,c);case 4:u.b.success("Email was sent to ".concat(r,". Click the link to complete your registration.")),window.localStorage.setItem("emailForRegistration",r),s("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container p-5",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(S.jsx)("h4",{children:"Register"}),Object(S.jsxs)("form",{onSubmit:b,children:[Object(S.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Your email",autoFocus:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Register"})]})]})})})},E=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/product"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("https://shop-node-deploy.herokuapp.com/api","/product/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/product/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/products"),{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/totalproducts"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/product/star/").concat(t),{star:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=c(856),Y=c(165),q=c(867),W=c(868),G=c(230),z=c.n(G),V=function(e){if(e&&e.ratings){var t=[],c=e&&e.ratings,n=c.length;c.map((function(e){return t.push(e.star)}));var a=5*t.reduce((function(e,t){return e+t}),0)/(5*n);return Object(S.jsx)("div",{className:"text-center pt-1 pb-3",children:Object(S.jsxs)("span",{children:[Object(S.jsx)(z.a,{starDimension:"20px",starSpacing:"4px",starRatedColor:"green",rating:a,editing:!1})," ",e.ratings.length]})})}},H=c(166),J=c.n(H),M=U.a.Meta,K=function(e){var t=e.product,c=Object(n.useState)("Click to add"),a=Object(d.a)(c,2),r=a[0],s=a[1],o=Object(f.b)(),i=t.images,l=t.title,u=t.description,b=t.slug,h=t.price;return Object(S.jsxs)(S.Fragment,{children:[t&&t.ratings&&t.ratings.length>0?V(t):Object(S.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),Object(S.jsx)(U.a,{cover:Object(S.jsx)("img",{alt:l,src:i&&i.length?i[0].url:"",style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(S.jsxs)(g.b,{to:"/product/".concat(b),children:[Object(S.jsx)(q.a,{className:"text-warning"})," ",Object(S.jsx)("br",{})," View Product"]}),Object(S.jsx)(Y.a,{title:r,children:Object(S.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(j.a)(Object(j.a)({},t),{},{count:1}));var c=J.a.uniqWith(e,J.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),s("Added"),o({type:"ADD_TO_CART",payload:c}),o({type:"CART_SIDE_VIEW",payload:!0})}},disabled:t.quantity<1,children:[Object(S.jsx)(W.a,{className:"text-danger"})," ",Object(S.jsx)("br",{}),t.quantity<1?"Out of stock":"Add to Cart"]})})],children:Object(S.jsx)(M,{title:"".concat(l," - $").concat(h),description:"".concat(u&&u.substring(0,40),"...")})})]})},Q=c(857),Z=function(e){var t=e.count;return Object(S.jsx)("div",{className:"row pb-5",children:function(){for(var e=[],c=0;c<t;c++)e.push(Object(S.jsx)(U.a,{className:"col-md-4",children:Object(S.jsx)(Q.a,{active:!0})},c));return e}()})},X=c(855),$=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(0),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(1),p=Object(d.a)(h,2),O=p[0],m=p[1];Object(n.useEffect)((function(){x()}),[O]),Object(n.useEffect)((function(){R().then((function(e){return b(e.data)}))}),[]);var x=function(){a(!0),A("createdAt","desc",O).then((function(e){i(e.data),a(!1)}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"container",children:c?Object(S.jsx)(Z,{count:3}):Object(S.jsx)("div",{className:"row",children:o.map((function(e){return Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)(K,{product:e})},e._id)}))})}),Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(S.jsx)(X.a,{current:O,total:j/3*10,onChange:function(e){return m(e)}})})})]})},ee=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(0),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(n.useState)(1),p=Object(d.a)(h,2),O=p[0],m=p[1];Object(n.useEffect)((function(){x()}),[O]),Object(n.useEffect)((function(){R().then((function(e){return b(e.data)}))}),[]);var x=function(){a(!0),A("sold","desc",O).then((function(e){i(e.data),a(!1)}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"container",children:c?Object(S.jsx)(Z,{count:3}):Object(S.jsx)("div",{className:"row",children:o.map((function(e){return Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)(K,{product:e})},e._id)}))})}),Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(S.jsx)(X.a,{current:O,total:j/3*10,onChange:function(e){return m(e)}})})})]})},te=function(){return Object(S.jsxs)("footer",{className:"page-footer font-small blue-grey lighten-5",children:[Object(S.jsx)("div",{style:{backgroundColor:"#21d192"},children:Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"row py-4 d-flex align-items-center",children:[Object(S.jsx)("div",{className:"col-md-6 col-lg-5 text-center text-md-left mb-4 mb-md-0",children:Object(S.jsx)("h6",{className:"mb-0",children:"Get connected with us on social networks!"})}),Object(S.jsxs)("div",{className:"col-md-6 col-lg-7 text-center text-md-right",children:[Object(S.jsx)("a",{class:"fb-ic",children:Object(S.jsx)("i",{class:"fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x",children:" "})}),Object(S.jsx)("a",{class:"tw-ic",children:Object(S.jsx)("i",{class:"fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x",children:" "})}),Object(S.jsx)("a",{class:"li-ic",children:Object(S.jsx)("i",{class:"fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x",children:" "})}),Object(S.jsx)("a",{class:"ins-ic",children:Object(S.jsx)("i",{class:"fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x",children:" "})})]})]})})}),Object(S.jsx)("div",{className:"container text-center text-md-left mt-5",children:Object(S.jsxs)("div",{className:"row mt-3 dark-grey-text",children:[Object(S.jsxs)("div",{className:"col-md-4 col-lg-4 col-xl-3 mb-4",children:[Object(S.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"ShopoZ"}),Object(S.jsx)("hr",{className:"teal accent-3 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(S.jsx)("p",{children:"Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit."})]}),Object(S.jsxs)("div",{className:"col-md-4 col-lg-2 col-xl-2 mx-auto mb-4",children:[Object(S.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Products"}),Object(S.jsx)("hr",{className:"teal accent-3 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{className:"dark-grey-text",href:"#!",children:"Link1"})}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{className:"dark-grey-text",href:"#!",children:"Link2"})}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{className:"dark-grey-text",href:"#!",children:"Link3"})}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{className:"dark-grey-text",href:"#!",children:"link4"})})]}),Object(S.jsxs)("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[Object(S.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Contact"}),Object(S.jsx)("hr",{className:"teal accent-3 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(S.jsxs)("p",{children:[Object(S.jsx)("i",{className:"fas fa-home mr-3"})," Hyderabad, NY 10012, India"]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("i",{className:"fas fa-envelope mr-3"})," info@example.com"]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("i",{className:"fas fa-phone mr-3"})," + 91 8686 085 000"]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("i",{className:"fas fa-print mr-3"})," +91 9966 404 042 "]})]})]})}),Object(S.jsx)("div",{className:"footer-copyright text-center text-black-50 py-3",children:Object(S.jsx)("h6",{children:"Developed by Rohith & Vinod"})})]})},ce=c.p+"static/media/Banner2.013b1b24.jpg",ne=function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel",children:Object(S.jsx)("div",{className:"carousel-inner",children:Object(S.jsx)("div",{className:"carousel-item active",children:Object(S.jsx)("img",{className:"d-block w-100",src:ce,alt:"First slide"})})})})})},ae=c(433),re=c.n(ae),se=function(e){var t=e.text;return Object(S.jsx)(re.a,{options:{strings:t,autoStart:!0,loop:!0}})},oe=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ne,{}),Object(S.jsx)("div",{className:"jumbotron text-danger h1 font-weight-bold text-center",children:Object(S.jsx)(se,{text:["New Arrivals","Best Sellers","Latest Products"]})}),Object(S.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"New Arrivals"}),Object(S.jsx)($,{}),Object(S.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Best Sellers"}),Object(S.jsx)(ee,{}),Object(S.jsx)(te,{})]})},ie=c(858),le=c(862),ue=c(869),je=c(870),de=c(871),be=c(872),he=c(873),pe=c(874),Oe=c(455),me=c(459),xe=function(){var e=Object(f.c)((function(e){return Object(j.a)({},e)})).search.text,t=Object(f.b)(),c=Object(l.f)(),n=function(t){t.preventDefault(),c.push("/shop?".concat(e))};return Object(S.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:n,children:[Object(S.jsx)("input",{className:"form-control mr-sm-2",type:"search",value:e,placeholder:"Search",onChange:function(e){t({type:"SEARCH_QUERY",payload:{text:e.target.value}})}}),Object(S.jsx)(me.a,{onClick:n,style:{cursor:"pointer"}})]})},fe=ie.a.SubMenu,ge=ie.a.Item,ve=function(){var e=Object(n.useState)("home"),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(f.b)(),s=Object(f.c)((function(e){return Object(j.a)({},e)})),o=s.user,i=s.cart,u=Object(l.f)();return Object(S.jsxs)(ie.a,{onClick:function(e){a(e.key)},selectedKeys:[c],mode:"horizontal",children:[Object(S.jsx)(ge,{icon:Object(S.jsx)(ue.a,{}),children:Object(S.jsx)(g.b,{to:"/",children:"Home"})},"home"),Object(S.jsx)(ge,{icon:Object(S.jsx)(je.a,{}),children:Object(S.jsx)(g.b,{to:"/shop",children:"Shop"})},"shop"),Object(S.jsx)(ge,{icon:Object(S.jsx)(W.a,{}),children:Object(S.jsx)(g.b,{to:"/cart",children:Object(S.jsx)(le.a,{count:i.length,offset:[9,0],children:"Cart"})})},"cart"),!o&&Object(S.jsx)(ge,{icon:Object(S.jsx)(de.a,{}),className:"float-right",children:Object(S.jsx)(g.b,{to:"/register",children:"Register"})},"register"),!o&&Object(S.jsx)(ge,{icon:Object(S.jsx)(be.a,{}),className:"float-right",children:Object(S.jsx)(g.b,{to:"/login",children:"Login"})},"login"),o&&Object(S.jsxs)(fe,{icon:Object(S.jsx)(he.a,{}),title:o.email&&o.email.split("@")[0],className:"float-right",children:[o&&"subscriber"===o.role&&Object(S.jsx)(ge,{children:Object(S.jsx)(g.b,{to:"/user/history",children:"Dashboard"})}),o&&"admin"===o.role&&Object(S.jsx)(ge,{children:Object(S.jsx)(g.b,{to:"/admin/dashboard",children:"Dashboard"})}),Object(S.jsx)(ge,{icon:Object(S.jsx)(pe.a,{}),onClick:function(){Oe.a.auth().signOut(),r({type:"LOGOUT",payload:null}),u.push("/login")},children:"Logout"})]},"SubMenu"),Object(S.jsx)("span",{className:"float-right p-1",children:Object(S.jsx)(xe,{})})]})},ye=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(d.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),j=Object(d.a)(l,2),b=j[0],p=j[1];Object(n.useEffect)((function(){s(window.localStorage.getItem("emailForRegistration"))}),[t]);var O=Object(f.b)(),m=function(){var e=Object(i.a)(o.a.mark((function e(c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&b){e.next=4;break}return u.b.error("Email and password is required."),e.abrupt("return");case 4:if(!(b.length<6)){e.next=7;break}return u.b.error("Password must contain atleast 6 characters long."),e.abrupt("return");case 7:return e.prev=7,e.next=10,h.signInWithEmailLink(r,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegistration"),n=h.currentUser,e.next=16,n.updatePassword(b);case 16:return e.next=18,n.getIdTokenResult();case 18:a=e.sent,N(a.token).then((function(e){O({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){console.log(e)})),t.push("/");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),u.b.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container p-5",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(S.jsx)("h4",{children:"Register Complete"}),Object(S.jsxs)("form",{onSubmit:m,children:[Object(S.jsx)("input",{type:"email",className:"form-control",value:r,disabled:!0}),Object(S.jsx)("input",{type:"password",className:"form-control",value:b,onChange:function(e){return p(e.target.value)},placeholder:"password",autoFocus:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Complete Registration"})]})]})})})},Ne=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(d.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),p=b[0],O=b[1],m=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){m&&m.token&&t.push("/")}),[t,m]);var x=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),c={url:"https://shop-node-deploy.herokuapp.com/api",handleCodeInApp:!0},e.next=5,h.sendPasswordResetEmail(r,c).then((function(){s(""),O(!1),u.b.success("Check your email for password reset link")})).catch((function(e){O(!1),u.b.error(e.message),console.log("Error in Forgot Password",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"container col-md-6 offset-md-3 p-5",children:[p?Object(S.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(S.jsx)("h4",{children:"Forgot Password"}),Object(S.jsxs)("form",{onSubmit:x,children:[Object(S.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Your email",autoFocus:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"btn btn-raised",disabled:!r,children:"Submit"})]})]})},we=function(){return Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{className:"nav flex-column",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/user/history",className:"nav-link",children:"History"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/user/password",className:"nav-link",children:"Password"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},ke=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/user/wishlist"),{productId:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Se=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/user/wishlist"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/user/wishlist/").concat(t),{},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),_e=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/user/cart"),{cart:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("https://shop-node-deploy.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/user/address"),{address:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Te=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/user/cart/coupon"),{coupon:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/user/order"),{stripeResponse:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/user/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=c(247),Le=c(248),Fe=function(e){var t=e.order;return Object(S.jsx)("div",{children:Object(S.jsxs)("p",{children:[Object(S.jsxs)("span",{children:["Order Id: ",t.paymentIntent.id]})," / ",Object(S.jsxs)("span",{children:["Amount:"," / ",(t.paymentIntent.amount/=100).toLocaleString("en-US",{style:"currency",currency:"USD"})]})," / ",Object(S.jsxs)("span",{children:["Currency: ",t.paymentIntent.currency.toUpperCase()]})," / ",Object(S.jsxs)("span",{children:["Method: ",t.paymentIntent.payment_method_types[0]]})," / ",Object(S.jsxs)("span",{children:["Payment: ",t.paymentIntent.status.toUpperCase()]})," / ",Object(S.jsxs)("span",{children:["Orderd on:"," / ",new Date(1e3*t.paymentIntent.created).toLocaleString()]})," / ",Object(S.jsxs)("span",{className:"badge bg-primary text-white",children:["STATUS: ",t.orderStatus]})]})})},Be=c(71),Ue=c(80),Ye=Be.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"center"},author:{fontSize:12,textAlign:"center",marginBottom:40},subtitle:{fontSize:18,margin:12},text:{margin:12,fontSize:14,textAlign:"justify"},image:{marginVertical:15,marginHorizontal:100},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},footer:{padding:"100px",fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"}}),qe=function(e){var t=e.order;return Object(S.jsx)(Be.Document,{children:Object(S.jsxs)(Be.Page,{style:Ye.body,children:[Object(S.jsxs)(Be.Text,{style:Ye.header,fixed:!0,children:["~ ",(new Date).toLocaleString()," ~"]}),Object(S.jsx)(Be.Text,{style:Ye.title,children:"Order Invoice"}),Object(S.jsx)(Be.Text,{style:Ye.author,children:"React Redux Ecommerce"}),Object(S.jsx)(Be.Text,{style:Ye.subtitle,children:"Order Summary"}),Object(S.jsx)(Ue.Table,{children:Object(S.jsxs)(Ue.TableHeader,{children:[Object(S.jsx)(Ue.TableCell,{children:"Title"}),Object(S.jsx)(Ue.TableCell,{children:"Price"}),Object(S.jsx)(Ue.TableCell,{children:"Quantity"}),Object(S.jsx)(Ue.TableCell,{children:"Brand"}),Object(S.jsx)(Ue.TableCell,{children:"Color"})]})}),Object(S.jsx)(Ue.Table,{data:t.products,children:Object(S.jsxs)(Ue.TableBody,{children:[Object(S.jsx)(Ue.DataTableCell,{getContent:function(e){return e.product.title}}),Object(S.jsx)(Ue.DataTableCell,{getContent:function(e){return"$".concat(e.product.price)}}),Object(S.jsx)(Ue.DataTableCell,{getContent:function(e){return e.count}}),Object(S.jsx)(Ue.DataTableCell,{getContent:function(e){return e.product.brand}}),Object(S.jsx)(Ue.DataTableCell,{getContent:function(e){return e.product.color}})]})}),Object(S.jsxs)(Be.Text,{style:Ye.text,children:[Object(S.jsxs)(Be.Text,{children:["Date: ","               ",new Date(1e3*t.paymentIntent.created).toLocaleString()]}),"\n",Object(S.jsxs)(Be.Text,{children:["Order Id: ","         ",t.paymentIntent.id]}),"\n",Object(S.jsxs)(Be.Text,{children:["Order Status: ","  ",t.orderStatus]}),"\n",Object(S.jsxs)(Be.Text,{children:["Total Paid: ","       ",t.paymentIntent.amount]})]}),Object(S.jsx)(Be.Text,{style:Ye.footer,children:" ~ Thank you for shopping with us ~ "})]})})},We=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return Ae(r.token).then((function(e){console.log(JSON.stringify(e.data,null,4)),a(e.data)}))},o=function(e){return Object(S.jsxs)("table",{className:"table table-bordered",children:[Object(S.jsx)("thead",{className:"thead-light",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Title"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Brand"}),Object(S.jsx)("th",{scope:"col",children:"Color"}),Object(S.jsx)("th",{scope:"col",children:"Count"}),Object(S.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(S.jsx)("tbody",{children:e.products.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:Object(S.jsx)("b",{children:e.product.title})}),Object(S.jsx)("td",{children:e.product.price}),Object(S.jsx)("td",{children:e.product.brand}),Object(S.jsx)("td",{children:e.color}),Object(S.jsx)("td",{children:e.count}),Object(S.jsx)("td",{children:"Yes"===e.product.shipping?Object(S.jsx)(Re.a,{style:{color:"green"}}):Object(S.jsx)(Le.a,{style:{color:"red"}})})]},t)}))})]})},i=function(e){return Object(S.jsx)(Be.PDFDownloadLink,{document:Object(S.jsx)(qe,{order:e}),fileName:"invoice.pdf",className:"btn btn-sm btn-block btn-outline-primary",children:"Download PDF"})};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(we,{})}),Object(S.jsxs)("div",{className:"col text-center",children:[Object(S.jsx)("h4",{children:c.length>0?"User purchase orders":"No purchase orders"}),c.map((function(e,t){return Object(S.jsxs)("div",{className:"m-5 p-3 card",children:[Object(S.jsx)(Fe,{order:e}),o(e),Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("div",{className:"col",children:i(e)})})]},t)}))]})]})})},Ge=c(245),ze=function(){var e=Object(n.useState)(5),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(l.f)();return Object(n.useEffect)((function(){var e=setInterval((function(){a((function(e){return--e}))}),1e3);return 0===c&&r.push("/"),function(){return clearInterval(e)}}),[c,r]),Object(S.jsx)("div",{className:"container p-5 text-center",children:Object(S.jsxs)("p",{children:["Redirecting you in ",c," seconds"]})})},Ve=function(e){var t=e.children,c=Object(Ge.a)(e,["children"]),n=Object(f.c)((function(e){return Object(j.a)({},e)})).user;return n&&n.token?Object(S.jsx)(l.a,Object(j.a)(Object(j.a)({},c),{},{render:function(){return t}})):Object(S.jsx)(ze,{})},He=function(e){e.children;var t=Object(Ge.a)(e,["children"]),c=Object(f.c)((function(e){return Object(j.a)({},e)})).user,a=Object(n.useState)(!1),r=Object(d.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){c&&c.token&&k(c.token).then((function(e){console.log("CURRENT ADMIN RES",e),o(!0)})).catch((function(e){console.log("ADMIN ROUTE ERR",e),o(!1)}))}),[c]),s?Object(S.jsx)(l.a,Object(j.a)({},t)):Object(S.jsx)(ze,{})},Je=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),l=s[0],j=s[1],b=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,h.currentUser.updatePassword(c).then((function(){j(!1),a(""),u.b.success("Password updated")})).catch((function(e){j(!1),u.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(we,{})}),Object(S.jsxs)("div",{className:"col",children:[l?Object(S.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(S.jsx)("h4",{children:"Password Update"}),Object(S.jsx)("form",{onSubmit:b,children:Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Your Password"}),Object(S.jsx)("input",{type:"password",onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"Enter new password",disabled:l,value:c}),Object(S.jsx)("button",{className:"btn btn-primary",disabled:!c||c.length<6||l,children:"Submit"})]})})]})]})})},Me=c(875),Ke=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return Se(r.token).then((function(e){a(e.data.wishlist)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(we,{})}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)("h4",{children:"Wishlist"}),c.map((function(e){return Object(S.jsxs)("div",{className:"alert alert-secondary",children:[Object(S.jsx)(g.b,{to:"/product/".concat(e.slug),children:e.title}),Object(S.jsx)("span",{onClick:function(){return t=e._id,Ce(t,r.token).then((function(e){s()}));var t},className:"btn btn-sm float-right",children:Object(S.jsx)(Me.a,{className:"text-danger"})})]},e._id)}))]})]})})},Qe=function(){return Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{className:"nav flex-column",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/subcategory",className:"nav-link",children:"Sub Category"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(g.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})},Ze=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/admin/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/admin/order-status"),{orderId:t,orderStatus:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),$e=function(e){var t=e.orders,c=e.handleStatusChange,n=function(e){return Object(S.jsxs)("table",{className:"table table-bordered",children:[Object(S.jsx)("thead",{className:"thead-light",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Title"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Brand"}),Object(S.jsx)("th",{scope:"col",children:"Color"}),Object(S.jsx)("th",{scope:"col",children:"Count"}),Object(S.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(S.jsx)("tbody",{children:e.products.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:Object(S.jsx)("b",{children:e.product.title})}),Object(S.jsx)("td",{children:e.product.price}),Object(S.jsx)("td",{children:e.product.brand}),Object(S.jsx)("td",{children:e.color}),Object(S.jsx)("td",{children:e.count}),Object(S.jsx)("td",{children:"Yes"===e.product.shipping?Object(S.jsx)(Re.a,{style:{color:"green"}}):Object(S.jsx)(Le.a,{style:{color:"red"}})})]},t)}))})]})};return Object(S.jsx)(S.Fragment,{children:t.map((function(e){return Object(S.jsxs)("div",{className:"row pb-5",children:[Object(S.jsxs)("div",{className:"btn btn-block bg-light",children:[Object(S.jsx)(Fe,{order:e,showStatus:!1}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-4",children:"Delivery Status"}),Object(S.jsx)("div",{className:"col-md-8",children:Object(S.jsxs)("select",{onChange:function(t){return c(e._id,t.target.value)},className:"form-control",defaultValue:e.orderStatus,name:"status",children:[Object(S.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(S.jsx)("option",{value:"Processing",children:"Processing"}),Object(S.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(S.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(S.jsx)("option",{value:"Completed",children:"Completed"})]})})]})]}),n(e)]},e._id)}))})},et=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return Ze(r.token).then((function(e){console.log(JSON.stringify(e.data,null,4)),a(e.data)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col-md-10",children:[Object(S.jsx)("h4",{children:"Admin Dashboard"}),Object(S.jsx)($e,{orders:c,handleStatusChange:function(e,t){Xe(e,t,r.token).then((function(e){u.b.success("Status updated"),s()}))}})]})]})})},tt=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("https://shop-node-deploy.herokuapp.com/api","/category/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),at=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/category/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/category"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),st=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=c(876),it=function(e){var t=e.name,c=e.handleSubmit,n=e.setName;return Object(S.jsx)("form",{onSubmit:c,children:Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Name"}),Object(S.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return n(e.target.value)},value:t,autoFocus:!0,required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]})})},lt=function(e){var t=e.keyword,c=e.setKeyword;return Object(S.jsx)("input",{type:"search",placeholder:"Search",value:t,onChange:function(e){e.preventDefault(),c(e.target.value.toLowerCase())},className:"form-control mb-4"})},ut=function(){var e=Object(f.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),b=l[0],h=l[1],p=Object(n.useState)([]),O=Object(d.a)(p,2),m=O[0],x=O[1],v=Object(n.useState)(""),y=Object(d.a)(v,2),N=y[0],w=y[1];Object(n.useEffect)((function(){k()}),[]);var k=function(){return tt().then((function(e){return x(e.data)}))},C=function(){var t=Object(i.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(h(!0),nt(c,e.token).then((function(e){h(!1),u.b.error("".concat(e.data.name," deleted")),k()})).catch((function(e){400===e.response.status&&(h(!1),u.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col",children:[b?Object(S.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(S.jsx)("h4",{children:"Create category"}),Object(S.jsx)(it,{handleSubmit:function(t){t.preventDefault(),h(!0),rt({name:a},e.token).then((function(e){h(!1),r(""),u.b.success('"'.concat(e.data.name,'" is created')),k()})).catch((function(e){console.log(e),h(!1),400===e.response.status&&u.b.error(e.response.data)}))},name:a,setName:r}),Object(S.jsx)(lt,{keyword:N,setKeyword:w}),Object(S.jsx)("hr",{}),m.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(N)).map((function(e){return Object(S.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(S.jsx)("span",{onClick:function(){return C(e.slug)},className:"btn btn-sm float-right",children:Object(S.jsx)(Me.a,{className:"text-danger"})}),Object(S.jsx)(g.b,{to:"/admin/category/".concat(e.slug),children:Object(S.jsx)("span",{className:"btn btn-sm float-right",children:Object(S.jsx)(ot.a,{className:"text-warning"})})})]},e._id)}))]})]})})},jt=function(e){var t=e.history,c=e.match,a=Object(f.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(""),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){return ct(c.params.slug).then((function(e){return i(e.data.name)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col",children:[h?Object(S.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(S.jsx)("h4",{children:"Update category"}),Object(S.jsx)(it,{handleSubmit:function(e){e.preventDefault(),p(!0),at(c.params.slug,{name:o},a.token).then((function(e){p(!1),i(""),u.b.success('"'.concat(e.data.name,'" is updated')),t.push("/admin/category")})).catch((function(e){console.log(e),p(!1),400===e.response.status&&u.b.error(e.response.data)}))},name:o,setName:i}),Object(S.jsx)("hr",{})]})]})})},dt=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/subcategories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/subcategory/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("https://shop-node-deploy.herokuapp.com/api","/subcategory/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),pt=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("https://shop-node-deploy.herokuapp.com/api","/subcategory/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/subcategory"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),mt=function(){var e=Object(f.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),b=l[0],h=l[1],p=Object(n.useState)([]),O=Object(d.a)(p,2),m=O[0],x=O[1],v=Object(n.useState)(""),y=Object(d.a)(v,2),N=y[0],w=y[1],k=Object(n.useState)([]),C=Object(d.a)(k,2),_=C[0],E=C[1],D=Object(n.useState)(""),P=Object(d.a)(D,2),T=P[0],I=P[1];Object(n.useEffect)((function(){A(),R()}),[]);var A=function(){return tt().then((function(e){return x(e.data)}))},R=function(){return dt().then((function(e){return E(e.data)}))},L=function(){var t=Object(i.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(h(!0),ht(c,e.token).then((function(e){h(!1),u.b.error("".concat(e.data.name," deleted")),R()})).catch((function(e){400===e.response.status&&(h(!1),u.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col",children:[b?Object(S.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(S.jsx)("h4",{children:"Create Sub-category"}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Parent category"}),Object(S.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(S.jsx)("option",{children:"Please Select one Main Category"}),m.length>0&&m.map((function(e){return Object(S.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(S.jsx)(it,{handleSubmit:function(t){t.preventDefault(),h(!0),Ot({name:a,parent:N},e.token).then((function(e){h(!1),r(""),u.b.success('"'.concat(e.data.name,'" is created')),R()})).catch((function(e){console.log(e),h(!1),400===e.response.status&&u.b.error(e.response.data)}))},name:a,setName:r}),Object(S.jsx)(lt,{keyword:T,setKeyword:I}),Object(S.jsx)("hr",{}),_.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(T)).map((function(e){return Object(S.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(S.jsx)("span",{onClick:function(){return L(e.slug)},className:"btn btn-sm float-right",children:Object(S.jsx)(Me.a,{className:"text-danger"})}),Object(S.jsx)(g.b,{to:"/admin/subcategory/".concat(e.slug),children:Object(S.jsx)("span",{className:"btn btn-sm float-right",children:Object(S.jsx)(ot.a,{className:"text-warning"})})})]},e._id)}))]})]})})},xt=function(e){var t=e.match,c=e.history,a=Object(f.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(""),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1],O=Object(n.useState)([]),m=Object(d.a)(O,2),x=m[0],g=m[1],v=Object(n.useState)(""),y=Object(d.a)(v,2),N=y[0],w=y[1];Object(n.useEffect)((function(){k(),C()}),[]);var k=function(){return tt().then((function(e){return g(e.data)}))},C=function(){return bt(t.params.slug).then((function(e){i(e.data.name),w(e.data.parent)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col",children:[h?Object(S.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(S.jsx)("h4",{children:"Create Sub-category"}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Parent category"}),Object(S.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(S.jsx)("option",{children:"Please Select one Main Category"}),x.length>0&&x.map((function(e){return Object(S.jsx)("option",{value:e._id,selected:e._id===N,children:e.name},e._id)}))]})]}),Object(S.jsx)(it,{handleSubmit:function(e){e.preventDefault(),p(!0),pt(t.params.slug,{name:o,parent:N},a.token).then((function(e){p(!1),i(""),u.b.success('"'.concat(e.data.name,'" is updated')),c.push("/admin/subCategory")})).catch((function(e){console.log(e),p(!1),400===e.response.status&&u.b.error(e.response.data)}))},name:o,setName:i})]})]})})},ft=c(157),gt=c(143),vt=c(189),yt=vt.a.Option,Nt=function(e){var t=e.handleSubmit,c=e.handleChange,n=e.setValues,a=e.values,r=e.handleCatagoryChange,s=e.showSub,o=e.subOptions,i=a.title,l=a.description,u=a.price,d=a.categories,b=(a.category,a.subc),h=(a.shipping,a.quantity),p=(a.images,a.colors),O=a.brands;a.color,a.brand;return Object(S.jsxs)("form",{onSubmit:t,children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Category"}),Object(S.jsxs)("select",{name:"category",className:"form-control",onChange:r,children:[Object(S.jsx)("option",{children:"Please Select one Main Category"}),d.length>0&&d.map((function(e){return Object(S.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),s&&Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Sub Categories"}),Object(S.jsx)(vt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:b,onChange:function(e){return n(Object(j.a)(Object(j.a)({},a),{},{subc:e}))},children:o.length&&o.map((function(e){return Object(S.jsx)(yt,{value:e._id,children:e.name},e._id)}))})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Title"}),Object(S.jsx)("input",{type:"text",name:"title",className:"form-control",value:i,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Description"}),Object(S.jsx)("input",{type:"text",name:"description",className:"form-control",value:l,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Price"}),Object(S.jsx)("input",{type:"number",name:"price",className:"form-control",value:u,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Shipping"}),Object(S.jsxs)("select",{name:"shipping",className:"form-control",onChange:c,children:[Object(S.jsx)("option",{children:"Please select"}),Object(S.jsx)("option",{value:"Yes",children:"Yes"}),Object(S.jsx)("option",{value:"No",children:"No"})]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Quantity"}),Object(S.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:h,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Color"}),Object(S.jsxs)("select",{name:"color",className:"form-control",onChange:c,children:[Object(S.jsx)("option",{children:"Please select"}),p.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Brand"}),Object(S.jsxs)("select",{name:"brand",className:"form-control",onChange:c,children:[Object(S.jsx)("option",{children:"Please select"}),O.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))]})]}),Object(S.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},wt=c(446),kt=c.n(wt),St=c(860),Ct="http://localhost:9000/api",_t=function(e){var t=e.values,c=e.setValues,n=e.setLoading,a=Object(f.c)((function(e){return Object(j.a)({},e)})).user;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(S.jsx)(le.a,{count:"X",style:{cursor:"pointer"},onClick:function(){return r=e.public_id,n(!0),void y.a.post("".concat(Ct,"/deleteimages"),{public_id:r},{headers:{authtoken:a?a.token:""}}).then((function(e){n(!1);var a=t.images.filter((function(e){return e.public_id!==r}));c(Object(j.a)(Object(j.a)({},t),{},{images:a}))})).catch((function(e){console.log(e),n(!1)}));var r},children:Object(S.jsx)(St.a,{shape:"square",src:e.url,size:100,className:"ml-3"})},e.public_id)}))}),Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("label",{className:"btn btn-primary  btn-raised mt-3",children:["Choose File",Object(S.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var r=e.target.files,s=t.images;if(r){n(!0);for(var o=0;o<r.length;o++)kt.a.imageFileResizer(r[o],720,720,"JPEG",100,0,(function(e){y.a.post("".concat(Ct,"/uploadimages"),{image:e},{headers:{authtoken:a?a.token:" "}}).then((function(e){console.log("img response>>>",e),n(!1),s.push(e.data),c(Object(j.a)(Object(j.a)({},t),{},{images:s}))})).catch((function(e){n(!1),console.log("CLOUDINARY UPLOAD ERR",e)}))}),"base64")}}})]})})]})},Et={title:"",descriptioin:"",price:"999",categories:[],category:"",subc:[],shipping:"Yes",quantity:"50",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Police","4711","PlayBoy","Estle","Swiss Image","Plum","Deborah Milano","Ajmal","Guess"],color:"White",brand:"4711"},Dt=function(){var e=Object(n.useState)(Et),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1],O=Object(n.useState)(!1),m=Object(d.a)(O,2),x=m[0],g=m[1],v=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){y()}),[]);var y=function(){return tt().then((function(e){return a(Object(j.a)(Object(j.a)({},c),{},{categories:e.data}))}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col-md-10",children:[x?Object(S.jsx)(gt.a,{className:"text-danger h1"}):Object(S.jsx)("h4",{children:"Product create"}),Object(S.jsx)("hr",{}),Object(S.jsx)("div",{className:"p-3",children:Object(S.jsx)(_t,{values:c,setValues:a,setLoading:g})}),Object(S.jsx)(Nt,{handleSubmit:function(e){e.preventDefault(),E(c,v.token).then((function(e){window.alert("".concat(e.data.title," is created")),window.location.reload()})).catch((function(e){console.log(e),u.b.error(e.response.data.err)}))},handleChange:function(e){a(Object(j.a)(Object(j.a)({},c),{},Object(ft.a)({},e.target.name,e.target.value)))},handleCatagoryChange:function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{subc:[],category:e.target.value})),st(e.target.value).then((function(e){i(e.data)})),p(!0)},setValues:a,values:c,showSub:h,subOptions:o})]})]})})},Pt=U.a.Meta,Tt=function(e){var t=e.product,c=e.removeProduct,n=t.title,a=t.description,r=t.images,s=t.slug;return Object(S.jsx)(U.a,{style:{width:240,height:"150px",objectFit:"cover"},className:"p-1",cover:Object(S.jsx)("img",{alt:n,src:r&&r.length?r[0].url:" "}),actions:[Object(S.jsx)(g.b,{to:"/admin/product/".concat(s),children:Object(S.jsx)(ot.a,{className:"text-warning"})}),Object(S.jsx)(Me.a,{className:"text-danger",onClick:function(){return c(s)}})],children:Object(S.jsx)(Pt,{title:n,description:"".concat(a&&a.substring(0,40),"...")})})},It=function(){var e=Object(f.c)((function(e){return Object(j.a)({},e)})).user,t=Object(n.useState)(!1),c=Object(d.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)([]),o=Object(d.a)(s,2),i=o[0],l=o[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){r(!0),D(100).then((function(e){l(e.data),r(!1)})).catch((function(e){r(!1),console.log(e)}))},h=function(t){window.confirm("Are you sure you want to delete?")&&P(t,e.token).then((function(e){b(),u.b.error("".concat(e.data.title," is deleted"))})).catch((function(e){400===e.response.status&&u.b.error(e.response.data),console.log(e)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col",children:[a?Object(S.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(S.jsx)("h4",{children:"All Products"}),Object(S.jsx)("div",{className:"row",children:i.map((function(e){return Object(S.jsx)("div",{className:"col-md-4 pb-4",children:Object(S.jsx)(Tt,{product:e,removeProduct:h})},e._id)}))})]})]})})},At=vt.a.Option,Rt=function(e){var t=e.handleSubmit,c=e.handleChange,n=(e.setValues,e.values),a=e.selectedCategory,r=e.handleCategoryChange,s=e.categories,o=e.subOptions,i=e.arrayOfSubs,l=e.setArrayOfSubs,u=n.title,j=n.description,d=n.price,b=n.category,h=(n.subc,n.shipping),p=n.quantity,O=(n.images,n.colors),m=n.brands,x=n.color,f=n.brand;return Object(S.jsxs)("form",{onSubmit:t,children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Category"}),Object(S.jsx)("select",{name:"category",className:"form-control",onChange:r,value:a||b._id,children:s.length>0&&s.map((function(e){return Object(S.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Sub Categories"}),Object(S.jsx)(vt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:i,onChange:function(e){return l(e)},children:o.length&&o.map((function(e){return Object(S.jsx)(At,{value:e._id,children:e.name},e._id)}))})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Title"}),Object(S.jsx)("input",{type:"text",name:"title",className:"form-control",value:u,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Description"}),Object(S.jsx)("input",{type:"text",name:"description",className:"form-control",value:j,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Price"}),Object(S.jsx)("input",{type:"number",name:"price",className:"form-control",value:d,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Shipping"}),Object(S.jsxs)("select",{name:"shipping",className:"form-control",onChange:c,children:[Object(S.jsx)("option",{value:"Yes",children:"Yes"}),Object(S.jsx)("option",{value:"No",children:"No"})]},"Yes"===h?"Yes":"No")]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Quantity"}),Object(S.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:p,onChange:c})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Color"}),Object(S.jsx)("select",{value:x,name:"color",className:"form-control",onChange:c,children:O.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{children:"Brand"}),Object(S.jsx)("select",{name:"brand",value:f,className:"form-control",onChange:c,children:m.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))})]}),Object(S.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},Lt={title:"",descriptioin:"",price:"",category:"",subc:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Police","4711","PlayBoy","Estle","Swiss Image","Plum","Deborah Milano","Ajmal","Guess"],color:"",brand:""},Ft=function(e){var t=e.match,c=e.history,a=Object(f.c)((function(e){return Object(j.a)({},e)})).user,r=Object(n.useState)(Lt),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)([]),b=Object(d.a)(l,2),h=b[0],p=b[1],O=Object(n.useState)([]),m=Object(d.a)(O,2),x=m[0],g=m[1],v=Object(n.useState)([]),y=Object(d.a)(v,2),N=y[0],w=y[1],k=Object(n.useState)(""),C=Object(d.a)(k,2),_=C[0],E=C[1],D=Object(n.useState)(!1),P=Object(d.a)(D,2),A=P[0],R=P[1],L=t.params.slug;Object(n.useEffect)((function(){F(),B()}),[]);var F=function(){T(L).then((function(e){i(Object(j.a)(Object(j.a)({},o),e.data)),st(e.data.category._id).then((function(e){p(e.data)}));var t=[];e.data.subc.map((function(e){return t.push(e._id)})),console.log("ARR",t),w((function(e){return t}))}))},B=function(){return tt().then((function(e){g(e.data)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col-md-10",children:[A?Object(S.jsx)(gt.a,{className:"text-danger h1"}):Object(S.jsx)("h4",{children:"Product update"}),Object(S.jsx)("hr",{}),Object(S.jsx)("div",{className:"p-3",children:Object(S.jsx)(_t,{values:o,setValues:i,setLoading:R})}),Object(S.jsx)(Rt,{handleSubmit:function(e){e.preventDefault(),o.subc=N,o.category=_||o.category,I(L,o,a.token).then((function(e){R(!1),u.b.success('"'.concat(e.data.title,'" is updated')),c.push("/admin/products")})).catch((function(e){console.log(e),R(!1),u.b.error(e.response.data.err)}))},handleChange:function(e){i(Object(j.a)(Object(j.a)({},o),{},Object(ft.a)({},e.target.name,e.target.value)))},values:o,setValues:i,handleCategoryChange:function(e){e.preventDefault(),i(Object(j.a)(Object(j.a)({},o),{},{subc:[]})),E(e.target.value),st(e.target.value).then((function(e){p(e.data)})),o.category._id===e.target.value&&F(),w([])},categories:x,subOptions:h,arrayOfSubs:N,setArrayOfSubs:w,selectedCategory:_})]})]})})},Bt=c(317),Ut=c(878),Yt=function(e){var t=e.product,c=t.price,n=t.category,a=t.subc,r=t.shipping,s=t.color,o=t.brand,i=t.quantity,l=t.sold;return Object(S.jsxs)("ul",{className:"list-group",children:[Object(S.jsxs)("li",{className:"list-group-item",children:["Price"," ",Object(S.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",c]})]}),n&&Object(S.jsxs)("li",{className:"list-group-item",children:["Category"," ",Object(S.jsx)(g.b,{to:"/category/".concat(n.slug),className:"label label-default label-pill pull-xs-right",children:n.name})]}),a&&Object(S.jsxs)("li",{className:"list-group-item",children:["Sub Categories",a.map((function(e){return Object(S.jsx)(g.b,{to:"/sub/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name},e._id)}))]}),Object(S.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",Object(S.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:r})]}),Object(S.jsxs)("li",{className:"list-group-item",children:["Color"," ",Object(S.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),Object(S.jsxs)("li",{className:"list-group-item",children:["Brand"," ",Object(S.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]}),Object(S.jsxs)("li",{className:"list-group-item",children:["Available"," ",Object(S.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),Object(S.jsxs)("li",{className:"list-group-item",children:["Sold"," ",Object(S.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:l})]})]})},qt=(c(673),c(447)),Wt=c(859),Gt=c(877),zt=function(e){var t=e.children,c=Object(f.c)((function(e){return Object(j.a)({},e)})).user,a=Object(n.useState)(!1),r=Object(d.a)(a,2),s=r[0],o=r[1],i=Object(l.f)(),b=Object(l.g)().slug;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{onClick:function(){c&&c.token?o(!0):i.push({pathname:"/login",state:{from:"/product/".concat(b)}})},children:[Object(S.jsx)(Gt.a,{className:"text-danger"})," ",Object(S.jsx)("br",{})," ",c?"Leave rating":"Login to leave rating"]}),Object(S.jsx)(Wt.a,{title:"Leave your rating",centered:!0,visible:s,onOk:function(){o(!1),u.b.success("Thanks for your review.")},onCancel:function(){return o(!1)},children:t})]})},Vt=Bt.a.TabPane,Ht=function(e){var t=e.product,c=e.onStartClick,a=e.star,r=t.title,s=t.images,o=t.description,i=t._id,b=Object(f.c)((function(e){return Object(j.a)({},e)})).user,h=Object(f.b)(),p=Object(n.useState)("Click to add"),O=Object(d.a)(p,2),m=O[0],x=O[1],g=Object(l.f)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"col-md-7 bg-light",children:[Object(S.jsx)(qt.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:s&&s.map((function(e){return Object(S.jsx)("img",{src:e.url,alt:e.title},e.public_id)}))}),Object(S.jsxs)(Bt.a,{type:"card",children:[Object(S.jsx)(Vt,{tab:"Description",children:o&&o},"1"),Object(S.jsx)(Vt,{tab:"More",children:"Call use on xxxx xxx xxx to learn more about this product."},"2")]})]}),Object(S.jsxs)("div",{className:"col-md-5",children:[Object(S.jsx)("h2",{className:"bg-info p-3",children:r}),t&&t.ratings&&t.ratings.length>0?V(t):Object(S.jsx)("div",{className:"text-center pt-1 pb-3",children:"NO RATING YET"}),Object(S.jsx)(U.a,{actions:[Object(S.jsx)(Y.a,{title:m,children:Object(S.jsxs)("a",{onClick:function(){var e=[];if(void 0!==typeof windows){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(j.a)(Object(j.a)({},t),{},{count:1}));var c=J.a.uniqWith(e,J.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),x("Added"),h({type:" ADD_TO_CART",payload:e}),h({type:"CART_SIDE_VIEW",payload:!0})}},children:[Object(S.jsx)(W.a,{className:"text-danger"})," ",Object(S.jsx)("br",{})," Add to Cart"]})}),Object(S.jsxs)("a",{onClick:function(e){e.preventDefault(),ke(t._id,b.token).then((function(e){console.log("addtoWishlist>>>>",e.data),u.b.success("Added to wishlist"),g.push("/user/wishlist")}))},children:[Object(S.jsx)(Ut.a,{className:"text-info"})," ",Object(S.jsx)("br",{})," Add to Wishlist"]}),Object(S.jsx)(zt,{children:Object(S.jsx)(z.a,{name:i,starRatedColor:"yellow",numberOfStars:5,isSelectable:!0,rating:a,changeRating:c})})],children:Object(S.jsx)(Yt,{product:t})})]})]})},Jt=function(e){var t=e.match,c=Object(f.c)((function(e){return Object(j.a)({},e)})).user,a=Object(n.useState)({}),r=Object(d.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)([]),l=Object(d.a)(i,2),u=l[0],b=l[1],h=Object(n.useState)(0),p=Object(d.a)(h,2),O=p[0],m=p[1],x=t.params.slug;Object(n.useEffect)((function(){g()}),[x]),Object(n.useEffect)((function(){if(s.ratings&&c){var e=s.ratings.find((function(e){return e.postedBy.toString()===c._id.toString()}));e&&m(e.star)}}),[]);var g=function(){T(x).then((function(e){o(e.data),F(e.data._id).then((function(e){return b(e.data)}))}))};return Object(S.jsxs)("div",{className:"container-fluid",children:[Object(S.jsx)("div",{className:"row pt-4",children:Object(S.jsx)(Ht,{product:s,onStartClick:function(e,t){m(e),L(t,e,c.token).then((function(e){console.log("rated product>>",e.data),g()}))},star:O})}),Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[Object(S.jsx)("hr",{}),Object(S.jsx)("h4",{children:"Related Products"}),Object(S.jsx)("hr",{})]})}),Object(S.jsx)("div",{className:"row pb-5",children:u.length?u.map((function(e){return Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)(K,{product:e})},e._id)})):Object(S.jsx)("div",{className:"text-center col",children:"No Products Found"})})]})},Mt=c(449),Kt=c.n(Mt),Qt=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/coupon"),{coupon:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("https://shop-node-deploy.herokuapp.com/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("https://shop-node-deploy.herokuapp.com/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),$t=(c(678),function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),b=Object(d.a)(l,2),h=b[0],p=b[1],O=Object(n.useState)(""),m=Object(d.a)(O,2),x=(m[0],m[1]),g=Object(n.useState)([]),v=Object(d.a)(g,2),y=v[0],N=v[1],w=Object(f.c)((function(e){return Object(j.a)({},e)})).user;Object(n.useEffect)((function(){k()}),[]);var k=function(){return Zt().then((function(e){return N(e.data)}))};return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-2",children:Object(S.jsx)(Qe,{})}),Object(S.jsxs)("div",{className:"col-md-10",children:[Object(S.jsx)("h4",{children:"Coupon"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(!0),console.table(c,o,h),Qt({name:c,expiry:o,discount:h},w.token).then((function(e){x(!1),a(""),p(""),i(""),u.b.success('"'.concat(e.data.name,'" is created'))})).catch((function(e){return console.log("create coupon err",e)}))},children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{className:"text-muted",children:"Name"}),Object(S.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return a(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(S.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return p(e.target.value)},value:h,required:!0})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(S.jsx)("br",{}),Object(S.jsx)(Kt.a,{className:"form-control",selected:new Date,value:o,onChange:function(e){return i(e)},required:!0})]}),Object(S.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(S.jsxs)("h4",{children:[y.length," Coupons"]}),Object(S.jsxs)("table",{className:"table table-bordered",children:[Object(S.jsx)("thead",{className:"thead-light",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Name"}),Object(S.jsx)("th",{scope:"col",children:"Expiry"}),Object(S.jsx)("th",{scope:"col",children:"Discount"}),Object(S.jsx)("th",{scope:"col",children:"Action"})]})}),Object(S.jsx)("tbody",{children:y.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.name}),Object(S.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(S.jsxs)("td",{children:[e.discount,"%"]}),Object(S.jsx)("td",{children:Object(S.jsx)(Me.a,{onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(x(!0),Xt(t,w.token).then((function(e){k(),x(!1),u.b.error('Coupon "'.concat(e.data.name,'" deleted'))})).catch((function(e){return console.log(e)}))));var t},className:"text-danger pointer"})})]},e._id)}))})]})]})]})})}),ec=c(458),tc=c(864),cc=c(863),nc=c(854),ac=c(879),rc=ie.a.SubMenu,sc=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)([0,0]),u=Object(d.a)(l,2),b=u[0],h=u[1],p=Object(n.useState)(!1),O=Object(d.a)(p,2),m=O[0],x=O[1],g=Object(n.useState)([]),v=Object(d.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)([]),k=Object(d.a)(w,2),C=k[0],_=k[1],E=Object(n.useState)([]),P=Object(d.a)(E,2),T=P[0],I=P[1],A=Object(n.useState)(""),R=Object(d.a)(A,2),L=(R[0],R[1]),F=Object(n.useState)(["Police","4711","PlayBoy","Estle","Swiss Image","Plum","Deborah Milano","Ajmal","Guess"]),U=Object(d.a)(F,2),Y=U[0],q=(U[1],Object(n.useState)("")),W=Object(d.a)(q,2),G=W[0],z=W[1],V=Object(n.useState)(["Black","Brown","Silver","White","Blue","gold","blue"]),H=Object(d.a)(V,2),J=H[0],M=(H[1],Object(n.useState)("")),Q=Object(d.a)(M,2),Z=Q[0],X=Q[1],$=Object(n.useState)(""),ee=Object(d.a)($,2),ce=(ee[0],ee[1]),ne=Object(f.b)(),ae=Object(f.c)((function(e){return Object(j.a)({},e)})).search.text;Object(n.useEffect)((function(){se(),tt().then((function(e){return N(e.data)})),dt().then((function(e){return I(e.data)}))}),[]);var re=function(e){B(e).then((function(e){a(e.data)}))},se=function(){D(20).then((function(e){a(e.data),i(!1)}))};Object(n.useEffect)((function(){var e=setTimeout((function(){re({query:ae}),ae||se()}),300);return function(){return clearTimeout(e)}}),[ae]),Object(n.useEffect)((function(){console.log("ok to request",c),re({price:b})}),[m]);var oe=function(e){ne({type:"SEARCH_QUERY",payload:{text:""}}),h([0,0]),L(""),z(""),X("");var t=Object(ec.a)(C),c=e.target.value,n=t.indexOf(c);-1===n?t.push(c):t.splice(n,1),_(t),re({category:t})},le=function(e){L(e),ne({type:"SEARCH_QUERY",payload:{text:""}}),h([0,0]),_([]),z(""),X(""),re({sub:e})},ue=function(e){L(""),ne({type:"SEARCH_QUERY",payload:{text:""}}),h([0,0]),_([]),X(""),z(e.target.value),re({brand:e.target.value})},je=function(e){L(""),ne({type:"SEARCH_QUERY",payload:{text:""}}),h([0,0]),_([]),z(""),X(e.target.value),re({color:e.target.value})};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-md-3 pt-2",children:[Object(S.jsx)("h4",{children:"Search/Filter"}),Object(S.jsx)("hr",{}),Object(S.jsxs)(ie.a,{defaultOpenKeys:["1","2","3","4","5","6","7"],mode:"inline",children:[Object(S.jsx)(rc,{title:Object(S.jsx)("span",{className:"h6",children:"\u20b9 Price"}),children:Object(S.jsx)("div",{children:Object(S.jsx)(nc.a,{className:"ml-4 mr-4",tipFormatter:function(e){return"Rs-".concat(e)},range:!0,value:b,onChange:function(e){ne({type:"SEARCH_QUERY",payload:{text:""}}),_([]),h(e),L(""),z(""),X(""),ce(""),setTimeout((function(){x(!m)}),300)},max:"10000"})})},"1"),Object(S.jsx)(rc,{title:Object(S.jsxs)("span",{className:"h6",children:[Object(S.jsx)(ac.a,{})," Categories"]}),children:Object(S.jsx)("div",{style:{maringTop:"-10px"},children:y.map((function(e){return Object(S.jsxs)("div",{children:[Object(S.jsx)(tc.a,{onChange:oe,className:"pb-2 pl-4 pr-4",value:e._id,name:"category",checked:C.includes(e._id),children:e.name}),Object(S.jsx)("br",{})]},e._id)}))})},"2"),Object(S.jsx)(rc,{title:Object(S.jsxs)("span",{className:"h6",children:[Object(S.jsx)(ac.a,{})," Sub Categories"]}),children:Object(S.jsx)("div",{style:{maringTop:"-10px"},className:"pl-4 pr-4",children:T.map((function(e){return Object(S.jsx)("div",{onClick:function(){return le(e)},className:"p-1 m-1 badge badge-secondary",style:{cursor:"pointer"},children:e.name},e._id)}))})},"4"),Object(S.jsx)(rc,{title:Object(S.jsxs)("span",{className:"h6",children:[Object(S.jsx)(ac.a,{})," Brands"]}),children:Object(S.jsx)("div",{style:{maringTop:"-10px"},className:"pr-5",children:Y.map((function(e){return Object(S.jsx)(cc.a,{value:e,name:e,checked:e===G,onChange:ue,className:"pb-1 pl-4 pr-4",children:e},e)}))})},"5"),Object(S.jsx)(rc,{title:Object(S.jsxs)("span",{className:"h6",children:[Object(S.jsx)(ac.a,{})," Colors"]}),children:Object(S.jsx)("div",{style:{maringTop:"-10px"},className:"pr-5",children:J.map((function(e){return Object(S.jsx)(cc.a,{value:e,name:e,checked:e===Z,onChange:je,className:"pb-1 pl-4 pr-4",children:e},e)}))})},"6")]})]}),Object(S.jsxs)("div",{className:"col-md-9 pt-2",children:[o?Object(S.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(S.jsx)("h4",{className:"text-danger",children:"Products"}),c.length<1&&Object(S.jsx)("p",{children:"No products found"}),Object(S.jsx)("div",{className:"row pb-5",children:c.map((function(e){return Object(S.jsx)("div",{className:"col-md-4 mt-3",children:Object(S.jsx)(K,{product:e})},e._id)}))})]})]})}),Object(S.jsx)(te,{})]})},oc=c(457),ic=c(106),lc=function(e){var t=e.p,c=Object(f.b)();return Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("div",{style:{height:"auto",width:"100px"},children:Object(S.jsx)("td",{children:t.images.length?Object(S.jsx)(oc.a,{small:t.images[0].url,large:t.images[0].url}):" No Image"})}),Object(S.jsx)("td",{className:"text-center",children:t.title}),Object(S.jsx)("td",{className:"text-center",children:t.brand}),Object(S.jsx)("td",{className:"text-center",children:Object(S.jsxs)("select",{className:"form-control",onChange:function(e){var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.map((function(c,a){c._id===t._id&&(n[a].color=e.target.value)})),localStorage.setItem("cart",JSON.stringify(n)),c({type:"ADD_TO_CART",payload:n}))},name:"color",children:[t.color?Object(S.jsx)("option",{value:t.color,children:t.color}):Object(S.jsx)("option",{children:"Select"}),["Black","Brown","Silver","White","Blue"].filter((function(e){return e!==t.color})).map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))]})}),Object(S.jsx)("td",{className:"text-center",children:Object(S.jsx)("input",{type:"number",className:"form-control",value:t.count,onChange:function(e){var n=e.target.value<1?1:e.target.value;if(n>t.quantity)u.b.error("Max available quantity: ".concat(t.quantity));else{var a=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.map((function(e,c){e._id===t._id&&(a[c].count=n)})),console.log("cart udpate color",a),localStorage.setItem("cart",JSON.stringify(a)),c({type:"ADD_TO_CART",payload:a}))}}})}),Object(S.jsx)("td",{className:"text-center",children:"Yes"===t.shipping?Object(S.jsx)(Re.a,{className:"text-success"}):Object(S.jsx)(Le.a,{className:"text-danger"})}),Object(S.jsxs)("td",{className:"text-center",children:["Rs.",t.price]}),Object(S.jsx)("td",{className:"text-center",children:Object(S.jsx)(ic.a,{onClick:function(){console.log(t._id,"to remove");var e=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(c,n){c._id===t._id&&e.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(e)),c({type:"ADD_TO_CART",payload:e}),c({type:"CART_SIDE_VIEW",payload:!0}))},className:"text-danger pointer"})})]})})},uc=function(e){var t=e.history,c=Object(f.c)((function(e){return Object(j.a)({},e)})),n=c.cart,a=c.user;return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-md-8",children:[Object(S.jsxs)("h4",{children:["Cart/",n.length]}),n.length?Object(S.jsxs)("table",{className:"table table-bordered table-hover ",children:[Object(S.jsx)("thead",{className:"table-secondary text-danger",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Image"}),Object(S.jsx)("th",{scope:"col",children:"Title"}),Object(S.jsx)("th",{scope:"col",children:"Brand"}),Object(S.jsx)("th",{scope:"col",children:"Color"}),Object(S.jsx)("th",{scope:"col",children:"Count"}),Object(S.jsx)("th",{scope:"col",children:"Shipping"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Remove"})]})}),n.map((function(e){return Object(S.jsx)(lc,{p:e},e.id)}))]}):Object(S.jsxs)("p",{children:["No Products in cart. Click Here for ",Object(S.jsx)(g.b,{to:"/shop",children:" Shopping"})]})]}),Object(S.jsxs)("div",{className:"col-md-4",children:[Object(S.jsx)("h3",{children:"OrderSummary"}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{children:"Products"}),Object(S.jsx)("hr",{}),n.map((function(e,t){return Object(S.jsx)("div",{children:Object(S.jsxs)("p",{children:[e.title," x ",e.count," = Rs.",e.price*e.count]})},t)})),Object(S.jsx)("hr",{}),"Total: ",Object(S.jsxs)("b",{children:["Rs.",n.reduce((function(e,t){return e+t.count*t.price}),0)]}),Object(S.jsx)("hr",{}),a?Object(S.jsx)("button",{className:"btn btn-sm btn-primary mt-2",disabled:!n.length,onClick:function(){_e(n,a.token).then((function(e){console.log("CART POST RES----------\x3e",e),e.data.ok&&t.push("/checkout")})).catch((function(e){return console.log("cart save err",e)}))},children:"Proceed to CheckOut"}):Object(S.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(S.jsx)(g.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})},jc=c(861),dc=function(e){e.children;var t=Object(f.b)(),c=Object(f.c)((function(e){return Object(j.a)({},e)})),n=c.sideDraw,a=c.cart,r={width:"100%",height:"50px",objectFit:"cover"};return Object(S.jsxs)(jc.a,{className:"text-center",visible:n,title:"CART / ".concat(a.length," Products "),closable:!1,onClose:function(){t({type:"CART_SIDE_VIEW",payload:!1})},children:[a.map((function(e){return Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("div",{className:"col",children:e.images[0]?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{src:e.images[0].url,style:r,alt:e.title}),Object(S.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h6",{children:"No Image sorry"}),Object(S.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]})})},e._id)})),Object(S.jsx)(g.b,{to:"/cart",children:Object(S.jsx)("button",{onClick:function(){return t({type:"SET_VISIBLE",payload:!1})},className:"text-center btn btn-primary btn-raised btn-block",children:"Go To Cart"})})]})},bc=c(450),hc=c.n(bc),pc=(c(848),function(e){var t=e.history,c=Object(n.useState)(0),a=Object(d.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(d.a)(o,2),l=i[0],b=i[1],h=Object(n.useState)(""),p=Object(d.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(!1),g=Object(d.a)(x,2),v=(g[0],g[1]),y=Object(n.useState)(""),N=Object(d.a)(y,2),w=N[0],k=N[1],C=Object(n.useState)(""),_=Object(d.a)(C,2),E=_[0],D=_[1],P=Object(n.useState)(""),T=Object(d.a)(P,2),I=T[0],A=T[1],R=Object(f.c)((function(e){return Object(j.a)({},e)})).user,L=Object(f.b)();Object(n.useEffect)((function(){Ee(R.token).then((function(e){b(e.data.products),s(e.data.cartTotal)}))}),[]);return Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-md-6",children:[Object(S.jsx)("h4",{children:"Delivery Address"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(hc.a,{theme:"snow",value:O,onChange:m}),Object(S.jsx)("button",{className:"btn btn-primary mt-2",onClick:function(){Pe(R.token,O).then((function(e){e.data.ok&&(v(!0),u.b.success("Address saved"))}))},children:"Save"}),Object(S.jsx)("hr",{}),Object(S.jsx)("h4",{children:"Enter your CouponId"}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("input",{onChange:function(e){k(e.target.value),A("")},value:w,type:"text",className:"form-control"}),Object(S.jsx)("button",{onClick:function(){console.log("send coupon to backend",w),Te(R.token,w).then((function(e){console.log("RES ON COUPON APPLIED",e.data),e.data&&(D(e.data),L({type:"COUPON_APPLIED",payload:!0})),e.data.err&&(A(e.data.err),L({type:"COUPON_APPLIED",payload:!1}))}))},className:"btn btn-primary mt-2",children:"Apply"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),I&&Object(S.jsx)("p",{className:"bg-danger p-2",children:I})]}),Object(S.jsxs)("div",{className:"col-md-6",children:[Object(S.jsx)("h4",{children:"Your Order Summary"}),Object(S.jsx)("hr",{}),Object(S.jsxs)("p",{children:["Products ",l.length]}),Object(S.jsx)("hr",{}),l.map((function(e,t){return Object(S.jsx)("div",{children:Object(S.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count," ="," ",e.product.price*e.count]})},t)})),Object(S.jsx)("hr",{}),Object(S.jsxs)("p",{children:[" ",Object(S.jsxs)("b",{children:["Your Cart Total: ",r]})]}),E>0&&Object(S.jsxs)("p",{className:"bg-success p-2",children:["Discount Applied: Total Payable: $",E]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-md-6",children:Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.push("/placeorder")},children:"Place Order"})}),Object(S.jsx)("div",{className:"col-md-6",children:Object(S.jsx)("button",{className:"btn btn-primary",onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),L({type:"ADD_TO_CART",payload:[]}),De(R.token).then((function(e){b([]),s(0),D(0),k(""),u.b.success("Cart is emapty. Contniue shopping.")}))},disabled:!l.length,children:"Empty/Clear Cart"})})]})]})]})}),Oc=c(451),mc=c(148),xc=c(460),fc=function(e){e.history;var t=Object(f.b)(),c=Object(f.c)((function(e){return Object(j.a)({},e)})),a=c.user,r=c.coupon,s=Object(n.useState)(!1),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(n.useState)(null),p=Object(d.a)(h,2),O=p[0],m=p[1],x=Object(n.useState)(""),v=Object(d.a)(x,2),N=v[0],w=v[1],k=Object(n.useState)(!0),C=Object(d.a)(k,2),_=C[0],E=C[1],D=Object(n.useState)(""),P=Object(d.a)(D,2),T=P[0],I=P[1],A=Object(n.useState)(0),R=Object(d.a)(A,2),L=R[0],F=R[1],B=Object(n.useState)(0),Y=Object(d.a)(B,2),q=Y[0],W=Y[1],G=Object(n.useState)(0),z=Object(d.a)(G,2),V=z[0],H=z[1],J=Object(mc.useStripe)(),M=Object(mc.useElements)();Object(n.useEffect)((function(){(function(e,t){return y.a.post("".concat("https://shop-node-deploy.herokuapp.com/api","/create-payment-intent"),{couponApplied:t},{headers:{authtoken:e}})})(a.token,r).then((function(e){console.log("create payment intent",e.data),I(e.data.clientSecret),F(e.data.cartTotal),W(e.data.totalAfterDiscount),H(e.data.payable)}))}),[]);var K=function(){var e=Object(i.a)(o.a.mark((function e(c){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),w(!0),e.next=4,J.confirmCardPayment(T,{payment_method:{card:M.getElement(mc.CardElement),billing_details:{name:c.target.name.value}}});case 4:(n=e.sent).error?(m("Payment failed ".concat(n.error.message)),w(!1)):(Ie(n,a.token).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),t({type:"ADD_TO_CART",payload:[]}),t({type:"COUPON_APPLIED",payload:!1}),De(a.token))})),console.log(JSON.stringify(n,null,4)),m(null),w(!1),b(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t.empty),m(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[!u&&Object(S.jsx)("div",{children:r&&void 0!==q?Object(S.jsx)("p",{className:"alert alert-success",children:"Total after discount: $".concat(q)}):Object(S.jsx)("p",{className:"alert alert-danger",children:"No coupon applied"})}),Object(S.jsx)("div",{className:"text-center pb-5",children:Object(S.jsx)(U.a,{actions:[Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("i",{className:"fas fa-rupee-sign text-info",children:[Object(S.jsx)("br",{})," Total :",L]})}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(xc.a,{className:"text-info"})," ",Object(S.jsx)("br",{})," Total payable : \u20b9",(V/100).toFixed(2)]})]})}),Object(S.jsxs)("form",{id:"payment-form",className:"stripe-form",onSubmit:K,children:[Object(S.jsx)(mc.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:Q}),Object(S.jsx)("button",{className:"stripe-button",disabled:N||_||u,children:Object(S.jsx)("span",{id:"button-text",children:N?Object(S.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),Object(S.jsx)("br",{}),O&&Object(S.jsx)("div",{className:"card-error",role:"alert",children:O})]}),Object(S.jsxs)("p",{className:u?"result-message":"result-message hidden",children:["Payment Successful."," ",Object(S.jsx)(g.b,{to:"/user/history",children:"See it in your purchase history."})]})]})},gc=(c(849),function(){var e=Object(Oc.a)("pk_test_51IZKZ4SBKRZHKo3pT8zJJxOXg1aljumgBVbHvILjhldZpUKaUwYqBz0Xr3ZQ3jDTKAVPCpdoLEWUTTDTZdXewWCD00CsYIDwRy");return Object(S.jsxs)("div",{className:"container p-5 text-center",children:[Object(S.jsx)("h4",{children:"Complete your purchase"}),Object(S.jsx)(mc.Elements,{stripe:e,children:Object(S.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(S.jsx)(fc,{})})})]})}),vc=function(){var e=Object(f.b)();return Object(n.useEffect)((function(){var t=h.onAuthStateChanged(function(){var t=Object(i.a)(o.a.mark((function t(c){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=5;break}return t.next=3,c.getIdTokenResult();case 3:n=t.sent,w(n.token).then((function(t){e({type:"LOGGED_IN_USER",payload:{name:t.data.name,email:t.data.email,token:n.token,role:t.data.role,_id:t.data._id}})})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[e]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ve,{}),Object(S.jsx)(dc,{}),Object(S.jsx)(u.a,{}),Object(S.jsxs)(l.c,{children:[Object(S.jsx)(l.a,{exact:!0,path:"/",component:oe}),Object(S.jsx)(l.a,{exact:!0,path:"/login",component:C}),Object(S.jsx)(l.a,{exact:!0,path:"/register",component:_}),Object(S.jsx)(l.a,{exact:!0,path:"/register/complete",component:ye}),Object(S.jsx)(l.a,{exact:!0,path:"/forgot/password",component:Ne}),Object(S.jsx)(Ve,{exact:!0,path:"/user/history",component:We}),Object(S.jsx)(Ve,{exact:!0,path:"/user/wishlist",component:Ke}),Object(S.jsx)(Ve,{exact:!0,path:"/user/password",component:Je}),Object(S.jsx)(He,{exact:!0,path:"/admin/dashboard",component:et}),Object(S.jsx)(He,{exact:!0,path:"/admin/category",component:ut}),Object(S.jsx)(He,{exact:!0,path:"/admin/category/:slug",component:jt}),Object(S.jsx)(He,{exact:!0,path:"/admin/subcategory",component:mt}),Object(S.jsx)(He,{exact:!0,path:"/admin/subcategory/:slug",component:xt}),Object(S.jsx)(He,{exact:!0,path:"/admin/product",component:Dt}),Object(S.jsx)(He,{exact:!0,path:"/admin/products",component:It}),Object(S.jsx)(He,{exact:!0,path:"/admin/product/:slug",component:Ft}),Object(S.jsx)(He,{exact:!0,path:"/admin/coupon",component:$t}),Object(S.jsx)(l.a,{exact:!0,path:"/product/:slug",component:Jt}),Object(S.jsx)(Ve,{exact:!0,path:"/checkout",component:pc}),Object(S.jsx)(l.a,{exact:!0,path:"/shop",component:sc}),Object(S.jsx)(l.a,{exact:!0,path:"/cart",component:uc}),Object(S.jsx)(Ve,{exact:!0,path:"/placeorder",component:gc})]})]})},yc=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,880)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},Nc=(c(850),c(138)),wc=c(452),kc={};"undefined"!==typeof window&&(kc=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]);var Sc=Object(Nc.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":case"LOGOUT":return t.payload;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_QUERY":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return t.payload;default:return e}},sideDraw:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_SIDE_VIEW":return t.payload;default:return e}},coupon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUPON_APPLIED":return t.payload;default:return e}}}),Cc=Object(Nc.createStore)(Sc,Object(wc.composeWithDevTools)());r.a.render(Object(S.jsx)(f.a,{store:Cc,children:Object(S.jsx)(g.a,{children:Object(S.jsx)(vc,{})})}),document.getElementById("root")),yc()}},[[851,1,2]]]);
//# sourceMappingURL=main.d8d9704e.chunk.js.map